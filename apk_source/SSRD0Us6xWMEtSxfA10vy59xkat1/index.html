<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title id="pageTitle">Loading...</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#000;
  --card-grad:linear-gradient(90deg,#b3e5ff,#c7a6ff,#ffb6e6);
  --pill-bg:linear-gradient(180deg,#071026,#021020);
}

*{box-sizing:border-box}

body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:'Inter',sans-serif;
}

/* ================= GAME ================= */
.game-wrap{
  position:fixed;
  inset:0;
  z-index:1;
}
.game-iframe{
  width:100%;
  height:100%;
  border:none;
}

/* ================= HACK PANEL ================= */
.top-panel{
  position:fixed;
  top:10px;
  left:0;
  right:0;
  display:flex;
  justify-content:center;
  z-index:9999;
}

.container{
  width:100%;
  max-width:420px;
  padding:0 12px;
}

.open-tele{
  display:block;
  text-align:center;
  padding:10px;
  border-radius:8px;
  background:linear-gradient(90deg,#5fd3ff,#2d8cf0);
  color:#fff;
  font-weight:900;
  text-decoration:none;
  margin-bottom:10px;
}

.photo-card{
  background:var(--card-grad);
  border-radius:12px;
  padding:14px;
  text-align:center;
  color:#001b2e;
}

.title{
  font-weight:900;
  font-size:16px;
}

.row-show{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  margin-top:6px;
}

.small-switch{
  position:relative;
  width:46px;
  height:24px;
}
.small-switch input{display:none}
.small-slider{
  position:absolute;
  inset:0;
  border-radius:20px;
  background:#0004;
}
.small-slider:before{
  content:"";
  position:absolute;
  width:16px;
  height:16px;
  left:4px;
  top:4px;
  background:#ff8b6b;
  border-radius:50%;
  transition:.3s;
}
.small-switch input:checked + .small-slider:before{
  transform:translateX(22px);
  background:#fff;
}

.series-text{font-weight:900;margin-top:6px}
.size-text{font-weight:900;font-size:16px;color:#ff8b6b}

.pills{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-top:8px;
}
.pill{
  width:60px;
  height:42px;
  border-radius:25px;
  background:var(--pill-bg);
  color:#dfffe7;
  font-size:20px;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.loader-inner{
  position:absolute;
  width:28px;
  height:28px;
  border:4px solid #fff3;
  border-top-color:#00d4ff;
  border-radius:50%;
  animation:spin 1s linear infinite;
  display:none;
}

@keyframes spin{to{transform:rotate(360deg)}}
</style>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>

<body>

<!-- GAME -->
<div class="game-wrap" id="gameWrap">
  <iframe
    class="game-iframe"
    src="https://www.92pak11.com/#/register?invitationCode=25417129914"
    allow="autoplay"
    allowfullscreen>
  </iframe>
</div>

<!-- HACK -->
<div class="top-panel">
  <div class="container">

    <a class="open-tele" href="https://t.me/+0OEWGD1eZO1hNzE1" target="_blank">
      OPEN TELEGRAM
    </a>

    <div class="photo-card">
      <div class="title" id="mainHackName">Loading...</div>

      <div class="row-show">
        <div>Show Number</div>
        <label class="small-switch">
          <input type="checkbox" id="photoToggle" checked>
          <span class="small-slider"></span>
        </label>
      </div>

      <div class="series-text" id="seriesText">PERIOD | ---</div>
      <div class="size-text" id="sizeText">--</div>

      <div class="pills">
        <div class="pill"><span id="pill1">-</span><div class="loader-inner" id="load1"></div></div>
        <div class="pill"><span id="pill2">-</span><div class="loader-inner" id="load2"></div></div>
        <div class="pill"><span id="pill3">-</span><div class="loader-inner" id="load3"></div></div>
      </div>
    </div>

  </div>
</div>

<script>
const API_URL='https://api.bdg88zf.com/api/webapi/GetGameIssue';
const API_PAYLOAD={
  typeId:1,
  language:0,
  random:"40079dcba93a48769c6ee9d4d4fae23f",
  signature:"D12108C4F57C549D82B23A91E0FA20AE",
  timestamp:1727792520
};

const LOGIC={
  1:{number:'0/2/4',size:'SMALL',color:'#4cc9ff'},
  2:{number:'0/7/4',size:'SMALL',color:'#4cc9ff'},
  3:{number:'7/1/9',size:'BIGG',color:'#ff8b6b'},
  4:{number:'6/8/2',size:'BIGG',color:'#ff8b6b'},
  5:{number:'5/9/3',size:'BIGG',color:'#ff8b6b'},
  6:{number:'5/7/0',size:'BIGG',color:'#ff8b6b'},
  7:{number:'0/2/8',size:'SMALL',color:'#4cc9ff'},
  8:{number:'4/6/1',size:'SMALL',color:'#4cc9ff'},
  9:{number:'1/3/9',size:'SMALL',color:'#4cc9ff'},
  0:{number:'5/9/7',size:'BIGG',color:'#ff8b6b'}
};

let lastPeriod=null, anim=false;

const p1=pill1,p2=pill2,p3=pill3;
const l1=load1,l2=load2,l3=load3;

function showL(){[l1,l2,l3].forEach(l=>l.style.display='block');}
function hideL(){[l1,l2,l3].forEach(l=>l.style.display='none');}

async function fetchPeriod(){
  try{
    const r=await fetch(API_URL,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(API_PAYLOAD)
    });
    const j=await r.json();
    if(j?.data?.issueNumber){
      const cur=j.data.issueNumber.toString();
      if(cur!==lastPeriod && !anim){
        lastPeriod=cur;
        anim=true;
        showL();
        setTimeout(()=>{
          hideL();
          const lg=LOGIC[+cur.slice(-1)];
          if(lg){
            [p1,p2,p3].forEach((p,i)=>p.textContent=lg.number.split('/')[i]);
            sizeText.textContent=lg.size;
            sizeText.style.color=lg.color;
            seriesText.textContent='PERIOD | '+cur.slice(-3);
          }
          anim=false;
        },3000);
      }
    }
  }catch(e){}
}

fetchPeriod();
setInterval(fetchPeriod,1500);

/* Firebase */
firebase.initializeApp({
  apiKey:"AIzaSyAK7VXejH4G51pbvtiocPFhsh66pSklTQs",
  authDomain:"drk-jalwa.firebaseapp.com",
  databaseURL:"https://drk-jalwa-default-rtdb.firebaseio.com",
  projectId:"drk-jalwa"
});

firebase.database().ref('settings').on('value',s=>{
  const d=s.val()||{};
  mainHackName.textContent=d.hackName||'VIP JALWA HACK DRK';
  document.title=mainHackName.textContent;
});
</script>

</body>
</html>