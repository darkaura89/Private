<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>BADSHAHACKS</title>
    <script>
        (function(){
            document.addEventListener('contextmenu', event => event.preventDefault());
            document.onkeydown = function(e) {
                if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) return false;
            }
            setInterval(function(){ debugger; }, 100);
        })();
        window.onload = function() {
            var _sec = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+TWlja2V5IFggV2ViIC0gVWx0cmEgUHJvIFByZWRpY3RvcjwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS82LjQuMC9jc3MvYWxsLm1pbi5jc3MiPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PcmJpdHJvbjp3Z2h0QDQwMDs3MDA7OTAwJmZhbWlseT1SYWpkaGFuaTp3Z2h0QDUwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogICAgPCEtLSBGaXJlYmFzZSBTREsgLS0+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjYuMC9maXJlYmFzZS1hcHAtY29tcGF0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzkuNi4wL2ZpcmViYXNlLWRhdGFiYXNlLWNvbXBhdC5qcyI+PC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgICAgOnJvb3QgewogICAgICAgICAgICAtLW5lb24tcHVycGxlOiAjYmMxM2ZlOwogICAgICAgICAgICAtLW5lb24tZ2xvdzogI2Q2NzBmZjsKICAgICAgICAgICAgLS1kYXJrLWJnOiAjMDUwNTA1OwogICAgICAgICAgICAtLWNhcmQtYmc6IHJnYmEoMjAsIDAsIDQwLCAwLjcpOwogICAgICAgICAgICAtLWdyZWVuOiAjMDBmZjAwOwogICAgICAgICAgICAtLXJlZDogI2ZmMDAwMDsKICAgICAgICAgICAgLS1nb2xkOiAjZmZjYzAwOwogICAgICAgICAgICAtLWJsdWU6ICMwMGQ0ZmY7CiAgICAgICAgICAgIC0tb3JhbmdlOiAjZmY5OTAwOwogICAgICAgICAgICAtLXZpb2xldDogIzlkMDBmZjsKICAgICAgICAgICAgLS10ZWFsOiAjMDBmZmNjOwogICAgICAgICAgICAtLXBpbms6ICNmZjAwYWE7CiAgICAgICAgfQoKICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICBmb250LWZhbWlseTogJ1JhamRoYW5pJywgc2Fucy1zZXJpZjsKICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgfQoKICAgICAgICBib2R5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1iZyk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuOwogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgICAgICB9CgogICAgICAgICNwYXJ0aWNsZXMtanMgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIHotaW5kZXg6IC0xOwogICAgICAgIH0KCiAgICAgICAgLyogTGFuZGluZyBQYWdlICovCiAgICAgICAgI2xhbmRpbmctcGFnZSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CgogICAgICAgIC5tYWluLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDE1cHggdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAucGxhdGZvcm0tc2Nyb2xsZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBvdmVyZmxvdy14OiBhdXRvOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDsKICAgICAgICAgICAgcGFkZGluZzogNDBweCAyMHB4OwogICAgICAgICAgICBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDsKICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lOwogICAgICAgIH0KCiAgICAgICAgLnBsYXRmb3JtLXNjcm9sbGVyOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQoKICAgICAgICAucGxhdGZvcm0tY2FyZCB7CiAgICAgICAgICAgIGZsZXg6IDAgMCAyNTBweDsKICAgICAgICAgICAgaGVpZ2h0OiA0NTBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1iZyk7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLW5lb24tcHVycGxlKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjIpOwogICAgICAgIH0KCiAgICAgICAgLnBsYXRmb3JtLWNhcmQ6aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpIHRyYW5zbGF0ZVkoLTEwcHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMzBweCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgfQoKICAgICAgICAucGxhdGZvcm0tY2FyZCBpbWcgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDsKICAgICAgICB9CgogICAgICAgIC5wbGF0Zm9ybS1sYWJlbCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYm90dG9tOiAwOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjgpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLyogVGFyZ2V0IFNlbGVjdGlvbiBQYWdlICovCiAgICAgICAgI3RhcmdldC1wYWdlIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJhY2stYnV0dG9uIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDIwcHg7CiAgICAgICAgICAgIGxlZnQ6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIHotaW5kZXg6IDEwOwogICAgICAgIH0KCiAgICAgICAgLnRhcmdldC10aXRsZSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3JiaXRyb24nLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDJyZW07CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC50YXJnZXQtZ3JpZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXgtd2lkdGg6IDEwMDBweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CgogICAgICAgIC50YXJnZXQtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMzAsMCw2MCwwLjgpLCByZ2JhKDYwLDAsMTIwLDAuOCkpOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgLnRhcmdldC1jYXJkOmhvdmVyIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDE4OCwgMTksIDI1NCwgMC40KTsKICAgICAgICB9CgogICAgICAgIC50YXJnZXQtY2FyZC5zZWxlY3RlZCB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAzMHB4IHJnYmEoMjU1LCAyMDQsIDAsIDAuNSk7CiAgICAgICAgfQoKICAgICAgICAudGFyZ2V0LXJhbmdlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB2YXIoLS1nb2xkKTsKICAgICAgICB9CgogICAgICAgIC50YXJnZXQtcHJpY2UgewogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDkwMDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLW5lb24tcHVycGxlKTsKICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDA7CiAgICAgICAgfQoKICAgICAgICAudGFyZ2V0LWRlc2MgewogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgY29sb3I6ICNhYWE7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAuc2VsZWN0LWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgdmFyKC0tbmVvbi1wdXJwbGUpLCAjOWQwMGZmKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjVweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICB9CgogICAgICAgIC5zZWxlY3QtYnRuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjOWQwMGZmLCB2YXIoLS1uZW9uLXB1cnBsZSkpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMjBweCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgfQoKICAgICAgICAvKiBBZGQtb25zIFNlbGVjdGlvbiBQYWdlICovCiAgICAgICAgI2FkZG9ucy1wYWdlIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLmFkZG9ucy1jb250YWluZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4OwogICAgICAgICAgICB3aWR0aDogOTAlOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuYWRkb25zLXRpdGxlIHsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdvbGQpOwogICAgICAgICAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAudGFyZ2V0LXN1bW1hcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNSk7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgfQoKICAgICAgICAuYWRkb24taXRlbSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoNDAsMCw4MCwwLjcpLCByZ2JhKDgwLDAsMTYwLDAuNykpOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS10ZWFsKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDA7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5hZGRvbi1pdGVtLnNlbGVjdGVkIHsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1nb2xkKTsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSg2MCwwLDEyMCwwLjgpLCByZ2JhKDEwMCwwLDIwMCwwLjgpKTsKICAgICAgICB9CgogICAgICAgIC5hZGRvbi1oZWFkZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuYWRkb24tbmFtZSB7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRlYWwpOwogICAgICAgIH0KCiAgICAgICAgLmFkZG9uLXByaWNlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjNyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgfQoKICAgICAgICAuYWRkb24tZGVzYyB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgICAgICAgICBjb2xvcjogI2FhYTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICB9CgogICAgICAgIC5hZGRvbi1iZW5lZml0cyB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyZWVuKTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICB9CgogICAgICAgIC5hZGRvbi10b2dnbGUgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAudG9nZ2xlLWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgdmFyKC0tdGVhbCksICMwMGNjYWEpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zczsKICAgICAgICB9CgogICAgICAgIC50b2dnbGUtYnRuLmFjdGl2ZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgdmFyKC0tcmVkKSwgI2ZmMzMzMyk7CiAgICAgICAgfQoKICAgICAgICAuc2tpcC1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWJsdWUpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ibHVlKTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zczsKICAgICAgICB9CgogICAgICAgIC5za2lwLWJ0bjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMjEyLCAyNTUsIDAuMSk7CiAgICAgICAgfQoKICAgICAgICAudG90YWwtYW1vdW50IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjcpOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ29sZCk7CiAgICAgICAgfQoKICAgICAgICAudG90YWwtbGFiZWwgewogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgICAgICAgY29sb3I6ICNhYWE7CiAgICAgICAgfQoKICAgICAgICAudG90YWwtdmFsdWUgewogICAgICAgICAgICBmb250LXNpemU6IDJyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ3JlZW4pOwogICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAucHJvY2VlZC1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHZhcigtLW5lb24tcHVycGxlKSwgIzlkMDBmZik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuM3M7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXJnaW46IDEwcHggMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgfQoKICAgICAgICAucHJvY2VlZC1idG46aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICM5ZDAwZmYsIHZhcigtLW5lb24tcHVycGxlKSk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IHZhcigtLW5lb24tcHVycGxlKTsKICAgICAgICB9CgogICAgICAgIC8qIFBheW1lbnQgUGFnZSAqLwogICAgICAgICNwYXltZW50LXBhZ2UgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAucGF5bWVudC1jb250YWluZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4OwogICAgICAgICAgICB3aWR0aDogOTAlOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAucGF5bWVudC10aXRsZSB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1nb2xkKTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS44cmVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLnRhcmdldC1kaXNwbGF5IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjUpOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLmFkZG9ucy1zdW1tYXJ5IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjMpOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdGVhbCk7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgfQoKICAgICAgICAuYWRkb24tc3VtbWFyeS1pdGVtIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBtYXJnaW46IDVweCAwOwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICB9CgogICAgICAgIC5xci1jb250YWluZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICB9CgogICAgICAgIC5xci1jb250YWluZXIgaW1nIHsKICAgICAgICAgICAgd2lkdGg6IDIwMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDIwMHB4OwogICAgICAgIH0KCiAgICAgICAgLnBheW1lbnQtYW1vdW50IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmVlbik7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICB9CgogICAgICAgIC5wYXltZW50LWluc3RydWN0aW9uIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgICAgfQoKICAgICAgICAudXRyLWlucHV0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIG1hcmdpbjogMTVweCAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW5lb24tcHVycGxlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIH0KCiAgICAgICAgLnN1Ym1pdC1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGNjMDAsICMwMDk5MDApOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAuc3VibWl0LWJ0bjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwOTkwMCwgIzAwY2MwMCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4ICMwMGNjMDA7CiAgICAgICAgfQoKICAgICAgICAuc3VwcG9ydC1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjk5MDAsICNmZjY2MDApOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuc3VwcG9ydC1idG46aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjY2MDAsICNmZjk5MDApOwogICAgICAgIH0KCiAgICAgICAgLyogUHJlZGljdGlvbiBQYWdlICovCiAgICAgICAgI3ByZWRpY3Rpb24tcGFnZSB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgfQoKICAgICAgICAuYXBwLWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC45NSk7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDkwdmg7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDIwcHggdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLnRhcmdldC1oZWFkZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICM5ZDAwZmYsICNiYzEzZmUsICM5ZDAwZmYpOwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwMCUgYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1nb2xkKTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBnbG93IDJzIGluZmluaXRlIGxpbmVhcjsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBnbG93IHsKICAgICAgICAgICAgMCUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSBjZW50ZXI7IH0KICAgICAgICAgICAgNTAlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSBjZW50ZXI7IH0KICAgICAgICAgICAgMTAwJSB7IGJhY2tncm91bmQtcG9zaXRpb246IDAlIGNlbnRlcjsgfQogICAgICAgIH0KCiAgICAgICAgLnRhcmdldC1nb2FsIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjNyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYWRkb25zLWJhZGdlcyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuYmFkZ2UgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10ZWFsKTsKICAgICAgICAgICAgY29sb3I6IGJsYWNrOwogICAgICAgICAgICBwYWRkaW5nOiAzcHggMTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KCiAgICAgICAgLmluc3VyYW5jZS1iYWRnZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXBpbmspOwogICAgICAgIH0KCiAgICAgICAgLmFjY3VyYWN5LWJhZGdlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGVhbCk7CiAgICAgICAgfQoKICAgICAgICAuYmFsYW5jZS1jb250YWluZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCw0MCw4MCwwLjUpOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmx1ZSk7CiAgICAgICAgfQoKICAgICAgICAuYmFsYW5jZS1sYWJlbCB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ibHVlKTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgfQoKICAgICAgICAuYmFsYW5jZS1hbW91bnQgewogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmVlbik7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB2YXIoLS1ncmVlbik7CiAgICAgICAgfQoKICAgICAgICAucGVyaW9kLWRpc3BsYXkgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjEpOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgLnBlcmlvZC1udW1iZXIgewogICAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1nb2xkKTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBtYXJnaW4tdG9wOiA4cHg7CiAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDE4OCwgMTksIDI1NCwgMC4zKSBpbnNldDsKICAgICAgICB9CgogICAgICAgIC5wcmVkaWN0aW9uLW1haW4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDI1cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAucHJlZGljdGlvbi10ZXh0IHsKICAgICAgICAgICAgZm9udC1zaXplOiA0cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogOTAwOwogICAgICAgICAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgc2Fucy1zZXJpZjsKICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAuYmV0LWFtb3VudCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICB9CgogICAgICAgIC5iZXQtbGV2ZWxzIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICB9CgogICAgICAgIC5sZXZlbC1ib3ggewogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC41KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLmxldmVsLWFjdGl2ZSB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDIwNCwwLDAuMSk7CiAgICAgICAgfQoKICAgICAgICAubGV2ZWwtbnVtYmVyIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KCiAgICAgICAgLmxldmVsLXBlcmNlbnQgewogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgY29sb3I6ICNhYWE7CiAgICAgICAgfQoKICAgICAgICAubGV2ZWwtYW1vdW50IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmVlbik7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KCiAgICAgICAgLmhpc3RvcnktcGFuZWwgewogICAgICAgICAgICBtYXgtaGVpZ2h0OiAzMDBweDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxODgsIDE5LCAyNTQsIDAuMyk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAuaGlzdG9yeS1pdGVtIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpOwogICAgICAgIH0KCiAgICAgICAgLyogUGF0dGVybiBBbmFseXNpcyBJbmZvICovCiAgICAgICAgLnBhdHRlcm4taW5mbyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmx1ZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOwogICAgICAgICAgICBjb2xvcjogI2FhYTsKICAgICAgICAgICAgbWF4LWhlaWdodDogMTUwcHg7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgfQoKICAgICAgICAucGF0dGVybi10YWcgewogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjIpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBwYWRkaW5nOiAycHggOHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBtYXJnaW46IDJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07CiAgICAgICAgfQoKICAgICAgICAvKiBQb3B1cHMgKi8KICAgICAgICAucG9wdXAgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjkpOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAucG9wdXAtY29udGVudCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpOwogICAgICAgICAgICBwYWRkaW5nOiA0MHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgIHdpZHRoOiA5MCU7CiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkOwogICAgICAgICAgICBhbmltYXRpb246IHBvcHVwQXBwZWFyIDAuNXM7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIHBvcHVwQXBwZWFyIHsKICAgICAgICAgICAgZnJvbSB7IHRyYW5zZm9ybTogc2NhbGUoMC44KTsgb3BhY2l0eTogMDsgfQogICAgICAgICAgICB0byB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IG9wYWNpdHk6IDE7IH0KICAgICAgICB9CgogICAgICAgIC5wb3B1cC1zdWNjZXNzIHsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ncmVlbik7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA0MHB4IHJnYmEoMCwyNTUsMCwwLjMpOwogICAgICAgIH0KCiAgICAgICAgLnBvcHVwLWZhaWx1cmUgewogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXJlZCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA0MHB4IHJnYmEoMjU1LDAsMCwwLjMpOwogICAgICAgIH0KCiAgICAgICAgLnBvcHVwLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgICAgICAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgc2Fucy1zZXJpZjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5wb3B1cC1zdWNjZXNzIC5wb3B1cC10aXRsZSB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmVlbik7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTVweCB2YXIoLS1ncmVlbik7CiAgICAgICAgfQoKICAgICAgICAucG9wdXAtZmFpbHVyZSAucG9wdXAtdGl0bGUgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tcmVkKTsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCAxNXB4IHZhcigtLXJlZCk7CiAgICAgICAgfQoKICAgICAgICAucG9wdXAtbWVzc2FnZSB7CiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwOwogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgICB9CgogICAgICAgIC5wb3B1cC1idXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIHZhcigtLW5lb24tcHVycGxlKSwgIzlkMDBmZik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDQwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgfQoKICAgICAgICAvKiBBZG1pbiBQYW5lbCBTdHlsZXMgKi8KICAgICAgICAjYWRtaW4tdG9nZ2xlLWJ0biB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgYm90dG9tOiAyMHB4OwogICAgICAgICAgICByaWdodDogMjBweDsKICAgICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCB2YXIoLS1uZW9uLXB1cnBsZSksICM5ZDAwZmYpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHotaW5kZXg6IDk5OTg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjUpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICB9CgogICAgICAgICNhZG1pbi10b2dnbGUtYnRuOmhvdmVyIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMjVweCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgfQoKICAgICAgICAjYWRtaW4tdG9nZ2xlLWJ0biBpIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgICNhZG1pbi1wYW5lbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNSwgNSwgMTUsIDAuOTgpOwogICAgICAgICAgICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICAgIHdpZHRoOiA5NSU7CiAgICAgICAgICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgICAgICAgICBtYXgtaGVpZ2h0OiA4NXZoOwogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICB6LWluZGV4OiA5OTk5OwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA1MHB4IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLWhlYWRlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgY29sb3I6IHZhcigtLW5lb24tcHVycGxlKTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS44cmVtOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLXRhYnMgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICB9CgogICAgICAgIC5hZG1pbi10YWIgewogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zczsKICAgICAgICB9CgogICAgICAgIC5hZG1pbi10YWIuYWN0aXZlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYWRtaW4tdGFiOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxODgsIDE5LCAyNTQsIDAuMyk7CiAgICAgICAgfQoKICAgICAgICAucGF5bWVudC1yZXF1ZXN0cyB7CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDQwMHB4OwogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxODgsIDE5LCAyNTQsIDAuMyk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAucmVxdWVzdC1pdGVtIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBtYXJnaW46IDEwcHggMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLnJlcXVlc3QtaW5mbyB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQoKICAgICAgICAucmVxdWVzdC1hY3Rpb25zIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1hcHByb3ZlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tZ3JlZW4pOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1yZWplY3QgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1yZWQpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLXNlYXJjaCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgfQoKICAgICAgICAuc3RhdHMtY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMTVweDsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAuc3RhdC1ib3ggewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC5zdGF0LXZhbHVlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgICAgIG1hcmdpbjogMTBweCAwOwogICAgICAgIH0KCiAgICAgICAgLnN0YXQtbGFiZWwgewogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgY29sb3I6ICNhYWE7CiAgICAgICAgfQoKICAgICAgICAvKiBDb2xvcnMgKi8KICAgICAgICAud2luIHsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyZWVuKTsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA1cHggdmFyKC0tZ3JlZW4pOwogICAgICAgIH0KCiAgICAgICAgLmxvc3MgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tcmVkKTsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA1cHggdmFyKC0tcmVkKTsKICAgICAgICB9CgogICAgICAgIC5iaWcgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ29sZCk7CiAgICAgICAgfQoKICAgICAgICAuc21hbGwgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tYmx1ZSk7CiAgICAgICAgfQoKICAgICAgICAucmVkIHsKICAgICAgICAgICAgY29sb3I6ICNmZjNlM2U7CiAgICAgICAgfQoKICAgICAgICAuZ3JlZW4gewogICAgICAgICAgICBjb2xvcjogIzQ0ZmY0NDsKICAgICAgICB9CgogICAgICAgIC52aW9sZXQgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tdmlvbGV0KTsKICAgICAgICB9CgogICAgICAgIC8qIExvYWRpbmcgKi8KICAgICAgICAubG9hZGluZyB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CgogICAgICAgIC5sb2FkaW5nLWRvdHM6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnLic7CiAgICAgICAgICAgIGFuaW1hdGlvbjogZG90cyAxLjVzIHN0ZXBzKDUsIGVuZCkgaW5maW5pdGU7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIGRvdHMgewogICAgICAgICAgICAwJSwgMjAlIHsgY29udGVudDogJy4nOyB9CiAgICAgICAgICAgIDQwJSB7IGNvbnRlbnQ6ICcuLic7IH0KICAgICAgICAgICAgNjAlIHsgY29udGVudDogJy4uLic7IH0KICAgICAgICAgICAgODAlLCAxMDAlIHsgY29udGVudDogJyc7IH0KICAgICAgICB9CgogICAgICAgIC8qIEFkbWluIENvbnRyb2wgQnV0dG9ucyAqLwogICAgICAgIC5hZG1pbi1jb250cm9scyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICB9CgogICAgICAgIC5hZG1pbi1idG4gewogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjIpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1uZW9uLXB1cnBsZSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuM3M7CiAgICAgICAgfQoKICAgICAgICAuYWRtaW4tYnRuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLWJ0bi5wcmltYXJ5IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCB2YXIoLS1ncmVlbiksICMwMGNjMDApOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ncmVlbik7CiAgICAgICAgfQoKICAgICAgICAuYWRtaW4tYnRuLmRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgdmFyKC0tcmVkKSwgI2ZmMzMzMyk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXJlZCk7CiAgICAgICAgfQoKICAgICAgICAvKiBUYWJsZSBTdHlsZXMgKi8KICAgICAgICAuYWRtaW4tdGFibGUgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgfQoKICAgICAgICAuYWRtaW4tdGFibGUgdGgsCiAgICAgICAgLmFkbWluLXRhYmxlIHRkIHsKICAgICAgICAgICAgcGFkZGluZzogMTJweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsKICAgICAgICB9CgogICAgICAgIC5hZG1pbi10YWJsZSB0aCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTg4LCAxOSwgMjU0LCAwLjIpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tbmVvbi1wdXJwbGUpOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLXRhYmxlIHRyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTsKICAgICAgICB9CgogICAgICAgIC8qIEFkbWluIENvbnRlbnQgUGFuZWxzICovCiAgICAgICAgLmFkbWluLWNvbnRlbnQgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KCiAgICAgICAgLmFkbWluLWNvbnRlbnQuYWN0aXZlIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KCjxkaXYgaWQ9InBhcnRpY2xlcy1qcyI+PC9kaXY+Cgo8IS0tIEFkbWluIFRvZ2dsZSBCdXR0b24gLS0+CjxkaXYgaWQ9ImFkbWluLXRvZ2dsZS1idG4iIG9uY2xpY2s9Im9wZW5BZG1pblBhbmVsKCkiPgogICAgPGkgY2xhc3M9ImZhcyBmYS11c2VyLXNlY3JldCI+PC9pPgo8L2Rpdj4KCjwhLS0gUG9wdXBzIC0tPgo8ZGl2IGlkPSJzdWNjZXNzLXBvcHVwIiBjbGFzcz0icG9wdXAiPgogICAgPGRpdiBjbGFzcz0icG9wdXAtY29udGVudCBwb3B1cC1zdWNjZXNzIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwb3B1cC10aXRsZSI+VEFSR0VUIENPTVBMRVRFRCE8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwb3B1cC1tZXNzYWdlIj4KICAgICAgICAgICAgPHA+Q29uZ3JhdHVsYXRpb25zISBZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgcmVhY2hlZCB5b3VyIHRhcmdldC48L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogdmFyKC0tZ29sZCk7IG1hcmdpbi10b3A6IDE1cHg7IGZvbnQtc2l6ZTogMS4zcmVtOyI+4oK5PHNwYW4gaWQ9ImNvbXBsZXRlZC1hbW91bnQiPjA8L3NwYW4+IEFjaGlldmVkITwvcD4KICAgICAgICAgICAgPGRpdiBpZD0iaW5zdXJhbmNlLXJlZnVuZCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IGNvbG9yOiB2YXIoLS1waW5rKTsgbWFyZ2luLXRvcDogMTBweDsiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zaGllbGQtYWx0Ij48L2k+IEluc3VyYW5jZSBub3QgdXNlZCAtIEtlZXAgaXQgZm9yIG5leHQgdGFyZ2V0IQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb3B1cC1idXR0b24iIG9uY2xpY2s9ImdvVG9UYXJnZXRTZWxlY3Rpb24oKSI+QlVZIE5FVyBUQVJHRVQ8L2J1dHRvbj4KICAgIDwvZGl2Pgo8L2Rpdj4KCjxkaXYgaWQ9ImZhaWx1cmUtcG9wdXAiIGNsYXNzPSJwb3B1cCI+CiAgICA8ZGl2IGNsYXNzPSJwb3B1cC1jb250ZW50IHBvcHVwLWZhaWx1cmUiPgogICAgICAgIDxkaXYgY2xhc3M9InBvcHVwLXRpdGxlIiBpZD0iZmFpbHVyZS10aXRsZSI+VEFSR0VUIExPU1QhPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icG9wdXAtbWVzc2FnZSIgaWQ9ImZhaWx1cmUtbWVzc2FnZSI+CiAgICAgICAgICAgIDwhLS0gRHluYW1pYyBjb250ZW50IHdpbGwgYmUgaW5zZXJ0ZWQgaGVyZSAtLT4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJwb3B1cC1idXR0b24iIG9uY2xpY2s9ImdvVG9UYXJnZXRTZWxlY3Rpb24oKSIgaWQ9ImZhaWx1cmUtYnV0dG9uIj5CVVkgV0lUSCBESVNDT1VOVDwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgoKPCEtLSBBZG1pbiBQYW5lbCAtLT4KPGRpdiBpZD0iYWRtaW4tcGFuZWwiPgogICAgPGRpdiBjbGFzcz0iYWRtaW4taGVhZGVyIj5BRE1JTiBDT05UUk9MIFBBTkVMPC9kaXY+CiAgICAKICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9ImFkbWluLXBhc3MiIGNsYXNzPSJ1dHItaW5wdXQiIHBsYWNlaG9sZGVyPSJFbnRlciBBZG1pbiBQYXNzd29yZCAoNzczOCkiIHN0eWxlPSJtYXgtd2lkdGg6IDMwMHB4OyBtYXJnaW46IDAgYXV0bzsiPgogICAgCiAgICA8ZGl2IGlkPSJhZG1pbi1jb250cm9scyIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgICAgIDwhLS0gQWRtaW4gVGFicyAtLT4KICAgICAgICA8ZGl2IGNsYXNzPSJhZG1pbi10YWJzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tdGFiIGFjdGl2ZSIgb25jbGljaz0ic3dpdGNoQWRtaW5UYWIoJ3BheW1lbnRzJykiPlBheW1lbnQgUmVxdWVzdHM8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tdGFiIiBvbmNsaWNrPSJzd2l0Y2hBZG1pblRhYigndXNlcnMnKSI+VXNlciBNYW5hZ2VtZW50PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFkbWluLXRhYiIgb25jbGljaz0ic3dpdGNoQWRtaW5UYWIoJ3N0YXRzJykiPlN0YXRpc3RpY3M8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tdGFiIiBvbmNsaWNrPSJzd2l0Y2hBZG1pblRhYignbWFudWFsJykiPk1hbnVhbCBFbnRyeTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZG1pbi10YWIiIG9uY2xpY2s9InN3aXRjaEFkbWluVGFiKCdyZXBvcnRzJykiPlJlcG9ydHM8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPCEtLSBTZWFyY2ggQmFyIC0tPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iYWRtaW4tc2VhcmNoIiBpZD0iYWRtaW4tc2VhcmNoIiBwbGFjZWhvbGRlcj0iU2VhcmNoLi4uIiBvbmtleXVwPSJzZWFyY2hBZG1pbkNvbnRlbnQoKSI+CgogICAgICAgIDwhLS0gUGF5bWVudHMgVGFiIC0tPgogICAgICAgIDxkaXYgaWQ9InBheW1lbnRzLXRhYiIgY2xhc3M9ImFkbWluLWNvbnRlbnQgYWN0aXZlIj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IHZhcigtLWJsdWUpOyBtYXJnaW46IDIwcHggMDsgZm9udC1zaXplOiAxLjJyZW07Ij5QRU5ESU5HIFBBWU1FTlQgUkVRVUVTVFM8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFkbWluLWNvbnRyb2xzIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFkbWluLWJ0biIgb25jbGljaz0icmVmcmVzaFBheW1lbnRzKCkiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYyI+PC9pPiBSZWZyZXNoCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFkbWluLWJ0biBwcmltYXJ5IiBvbmNsaWNrPSJhcHByb3ZlQWxsUGF5bWVudHMoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiPjwvaT4gQXBwcm92ZSBBbGwKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRtaW4tYnRuIGRhbmdlciIgb25jbGljaz0icmVqZWN0QWxsUGF5bWVudHMoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcy1jaXJjbGUiPjwvaT4gUmVqZWN0IEFsbAogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBpZD0icGF5bWVudC1yZXF1ZXN0cyIgY2xhc3M9InBheW1lbnQtcmVxdWVzdHMiPjwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8IS0tIFVzZXJzIFRhYiAtLT4KICAgICAgICA8ZGl2IGlkPSJ1c2Vycy10YWIiIGNsYXNzPSJhZG1pbi1jb250ZW50Ij4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IHZhcigtLXRlYWwpOyBtYXJnaW46IDIwcHggMDsgZm9udC1zaXplOiAxLjJyZW07Ij5VU0VSIE1BTkFHRU1FTlQ8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXRzLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+VG90YWwgVXNlcnM8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0idG90YWwtdXNlcnMiPjA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPkFjdGl2ZSBTZXNzaW9uczwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJhY3RpdmUtc2Vzc2lvbnMiPjA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPlRvdGFsIEVhcm5pbmdzPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9InRvdGFsLWVhcm5pbmdzIj7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5Db21wbGV0ZWQgVGFyZ2V0czwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJjb21wbGV0ZWQtdGFyZ2V0cyI+MDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tY29udHJvbHMiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRtaW4tYnRuIiBvbmNsaWNrPSJsb2FkQWxsVXNlcnMoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS11c2VycyI+PC9pPiBMb2FkIEFsbCBVc2VycwogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhZG1pbi1idG4iIG9uY2xpY2s9ImV4cG9ydFVzZXJzKCkiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4gRXhwb3J0IHRvIENTVgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBpZD0idXNlcnMtbGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IG1heC1oZWlnaHQ6IDQwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+CiAgICAgICAgICAgICAgICA8IS0tIFVzZXJzIHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8IS0tIFN0YXRpc3RpY3MgVGFiIC0tPgogICAgICAgIDxkaXYgaWQ9InN0YXRzLXRhYiIgY2xhc3M9ImFkbWluLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogdmFyKC0tZ29sZCk7IG1hcmdpbjogMjBweCAwOyBmb250LXNpemU6IDEuMnJlbTsiPlNZU1RFTSBTVEFUSVNUSUNTPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0cy1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPlRvZGF5J3MgRWFybmluZ3M8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBpZD0idG9kYXktZWFybmluZ3MiPuKCuTA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPlRoaXMgV2VlazwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJ3ZWVrLWVhcm5pbmdzIj7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5UaGlzIE1vbnRoPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9Im1vbnRoLWVhcm5pbmdzIj7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5SZWZ1bmRzIEdpdmVuPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9InRvdGFsLXJlZnVuZHMiPuKCuTA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtbGFiZWwiPlN1Y2Nlc3MgUmF0ZTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiIGlkPSJzdWNjZXNzLXJhdGUiPjAlPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtYm94Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5BdmcuIFRpbWUvVGFyZ2V0PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSIgaWQ9ImF2Zy10aW1lIj4wbTwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsiPgogICAgICAgICAgICAgICAgPGNhbnZhcyBpZD0iZWFybmluZ3NDaGFydCIgd2lkdGg9IjQwMCIgaGVpZ2h0PSIyMDAiPjwvY2FudmFzPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPCEtLSBNYW51YWwgRW50cnkgVGFiIC0tPgogICAgICAgIDxkaXYgaWQ9Im1hbnVhbC10YWIiIGNsYXNzPSJhZG1pbi1jb250ZW50Ij4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IHZhcigtLXBpbmspOyBtYXJnaW46IDIwcHggMDsgZm9udC1zaXplOiAxLjJyZW07Ij5NQU5VQUwgVVNFUiBFTlRSWTwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7Ij4KICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6IHZhcigtLWJsdWUpOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+Q3JlYXRlIE5ldyBVc2VyIFNlc3Npb248L2gzPgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im1hbnVhbC11c2VyLWlkIiBjbGFzcz0idXRyLWlucHV0IiBwbGFjZWhvbGRlcj0iVXNlciBJRCAobGVhdmUgYmxhbmsgZm9yIGF1dG8pIiBzdHlsZT0ibWFyZ2luOiAxMHB4IDA7Ij4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibWFudWFsLXBsYXRmb3JtIiBjbGFzcz0idXRyLWlucHV0IiBzdHlsZT0ibWFyZ2luOiAxMHB4IDA7Ij4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdCBQbGF0Zm9ybTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlRBU0hBTiI+VEFTSEFOPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iRE0gV0lOIj5ETSBXSU48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJEQU1BTiI+REFNQU48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJKQUxXQSI+SkFMV0E8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI4MiBMT1RURVJZIj44MiBMT1RURVJZPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iQkRHIEdBTUUiPkJERyBHQU1FPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iR09BIEdBTUUiPkdPQSBHQU1FPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iOTEgQ0xVQiI+OTEgQ0xVQjwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9Im1hbnVhbC10YXJnZXQiIGNsYXNzPSJ1dHItaW5wdXQiIHN0eWxlPSJtYXJnaW46IDEwcHggMDsiIG9uY2hhbmdlPSJ1cGRhdGVNYW51YWxUYXJnZXQoKSI+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj5TZWxlY3QgVGFyZ2V0PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMzUwLTE1MDAiPjM1MCBUbyAxNTAwICjigrkyNTApPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iNTAwLTM1MDAiPjUwMCBUbyAzNTAwICjigrk1MDApPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMTAwMC0xMDAwMCI+MTAwMCBUbyAxMDAwMCAo4oK5OTk5KTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjI1MDAtMjUwMDAiPjI1MDAgVG8gMjUwMDAgKOKCuTE1MDApPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iNTAwMC01MDAwMCI+NTAwMCBUbyA1MDAwMCAo4oK5MjUwMCk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxMDAwLTM1MDAwIj4xMDAwIFRvIDM1MDAwICjigrk1MDAwKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjIwMDAtNzAwMDAiPjIwMDAgVG8gNzAwMDAgKOKCuTEwMDAwKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgbWFyZ2luOiAxNXB4IDA7Ij4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9Im1hbnVhbC1hY2N1cmFjeSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFjY3VyYWN5IEJvb3N0ZXI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9Im1hbnVhbC1pbnN1cmFuY2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5JbnN1cmFuY2U8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMyk7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG1hcmdpbjogMTVweCAwOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICNhYWE7Ij5Ub3RhbCBBbW91bnQ6PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVyZW07IGNvbG9yOiB2YXIoLS1ncmVlbik7IiBpZD0ibWFudWFsLXRvdGFsIj7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3VibWl0LWJ0biIgb25jbGljaz0iY3JlYXRlTWFudWFsU2Vzc2lvbigpIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMtY2lyY2xlIj48L2k+IENyZWF0ZSBTZXNzaW9uCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gUmVwb3J0cyBUYWIgLS0+CiAgICAgICAgPGRpdiBpZD0icmVwb3J0cy10YWIiIGNsYXNzPSJhZG1pbi1jb250ZW50Ij4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IHZhcigtLW9yYW5nZSk7IG1hcmdpbjogMjBweCAwOyBmb250LXNpemU6IDEuMnJlbTsiPkZJTkFOQ0lBTCBSRVBPUlRTPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZG1pbi1jb250cm9scyI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhZG1pbi1idG4iIG9uY2xpY2s9ImdlbmVyYXRlRGFpbHlSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jYWxlbmRhci1kYXkiPjwvaT4gRGFpbHkgUmVwb3J0CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFkbWluLWJ0biIgb25jbGljaz0iZ2VuZXJhdGVXZWVrbHlSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jYWxlbmRhci13ZWVrIj48L2k+IFdlZWtseSBSZXBvcnQKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRtaW4tYnRuIiBvbmNsaWNrPSJnZW5lcmF0ZU1vbnRobHlSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jYWxlbmRhci1hbHQiPjwvaT4gTW9udGhseSBSZXBvcnQKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRtaW4tYnRuIiBvbmNsaWNrPSJleHBvcnRSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1maWxlLWV4Y2VsIj48L2k+IEV4cG9ydCBFeGNlbAogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0LWNvbnRlbnQiIHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyBtaW4taGVpZ2h0OiAzMDBweDsiPgogICAgICAgICAgICAgICAgPCEtLSBSZXBvcnRzIHdpbGwgYmUgZ2VuZXJhdGVkIGhlcmUgLS0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdWJtaXQtYnRuIiBvbmNsaWNrPSJjbG9zZUFkbWluUGFuZWwoKSIgc3R5bGU9ImJhY2tncm91bmQ6IHZhcigtLXJlZCk7IG1hcmdpbi10b3A6IDIwcHg7Ij4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPiBDTE9TRSBQQU5FTAogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgoKPCEtLSBMYW5kaW5nIFBhZ2UgLS0+CjxzZWN0aW9uIGlkPSJsYW5kaW5nLXBhZ2UiPgogICAgPGgxIGNsYXNzPSJtYWluLXRpdGxlIj5DSE9PU0UgUExBVEZPUk08L2gxPgogICAgPGRpdiBjbGFzcz0icGxhdGZvcm0tc2Nyb2xsZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWNhcmQiIG9uY2xpY2s9Im9wZW5UYXJnZXRQYWdlKCdUQVNIQU4nKSI+CiAgICAgICAgICAgIDxpbWcgc3JjPSJ0YXNoYW4ucG5nIiBhbHQ9IlRBU0hBTiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWxhYmVsIj5UQVNIQU48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1jYXJkIiBvbmNsaWNrPSJvcGVuVGFyZ2V0UGFnZSgnRE0gV0lOJykiPgogICAgICAgICAgICA8aW1nIHNyYz0iZG13aW4ucG5nIiBhbHQ9IkRNIFdJTiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWxhYmVsIj5ETSBXSU48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1jYXJkIiBvbmNsaWNrPSJvcGVuVGFyZ2V0UGFnZSgnREFNQU4nKSI+CiAgICAgICAgICAgIDxpbWcgc3JjPSJkYW1hbi5wbmciIGFsdD0iREFNQU4iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1sYWJlbCI+REFNQU48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1jYXJkIiBvbmNsaWNrPSJvcGVuVGFyZ2V0UGFnZSgnSkFMV0EnKSI+CiAgICAgICAgICAgIDxpbWcgc3JjPSJqYWx3YS5wbmciIGFsdD0iSkFMV0EiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1sYWJlbCI+SkFMV0E8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1jYXJkIiBvbmNsaWNrPSJvcGVuVGFyZ2V0UGFnZSgnODIgTE9UVEVSWScpIj4KICAgICAgICAgICAgPGltZyBzcmM9IjgybG90dGVyeS5wbmciIGFsdD0iODIgTE9UVEVSWSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWxhYmVsIj44MiBMT1RURVJZPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icGxhdGZvcm0tY2FyZCIgb25jbGljaz0ib3BlblRhcmdldFBhZ2UoJ0JERyBHQU1FJykiPgogICAgICAgICAgICA8aW1nIHNyYz0iYmRnZ2FtZS5wbmciIGFsdD0iQkRHIEdBTUUiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1sYWJlbCI+QkRHIEdBTUU8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF0Zm9ybS1jYXJkIiBvbmNsaWNrPSJvcGVuVGFyZ2V0UGFnZSgnR09BIEdBTUUnKSI+CiAgICAgICAgICAgIDxpbWcgc3JjPSJnb2FnYW1lLnBuZyIgYWx0PSJHT0EgR0FNRSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWxhYmVsIj5HT0EgR0FNRTwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InBsYXRmb3JtLWNhcmQiIG9uY2xpY2s9Im9wZW5UYXJnZXRQYWdlKCc5MSBDTFVCJykiPgogICAgICAgICAgICA8aW1nIHNyYz0iOTFjbHViLnBuZyIgYWx0PSI5MSBDTFVCIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icGxhdGZvcm0tbGFiZWwiPjkxIENMVUI8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L3NlY3Rpb24+Cgo8IS0tIFRhcmdldCBTZWxlY3Rpb24gUGFnZSAtLT4KPHNlY3Rpb24gaWQ9InRhcmdldC1wYWdlIj4KICAgIDxkaXYgY2xhc3M9ImJhY2stYnV0dG9uIiBvbmNsaWNrPSJnb0JhY2tUb1BsYXRmb3JtKCkiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtYXJyb3ctbGVmdCI+PC9pPgogICAgPC9kaXY+CiAgICA8aDIgY2xhc3M9InRhcmdldC10aXRsZSI+Q0hPT1NFIFlPVVIgVEFSR0VUPC9oMj4KICAgIDxkaXYgY2xhc3M9InRhcmdldC1ncmlkIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtY2FyZCIgZGF0YS10YXJnZXQ9IjM1MC0xNTAwIiBkYXRhLXByaWNlPSIyNTAiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtcmFuZ2UiPjM1MCBUbyAxNTAwPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1wcmljZSI+4oK5MjUwPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1kZXNjIj5TdGFydCB3aXRoIOKCuTM1MCwgdGFyZ2V0IOKCuTE1MDA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2VsZWN0LWJ0biIgb25jbGljaz0ic2VsZWN0VGFyZ2V0KCczNTAtMTUwMCcsIDI1MCkiPlNFTEVDVDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1jYXJkIiBkYXRhLXRhcmdldD0iNTAwLTM1MDAiIGRhdGEtcHJpY2U9IjUwMCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1yYW5nZSI+NTAwIFRvIDM1MDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXByaWNlIj7igrk1MDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWRlc2MiPlN0YXJ0IHdpdGgg4oK5NTAwLCB0YXJnZXQg4oK5MzUwMDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWxlY3QtYnRuIiBvbmNsaWNrPSJzZWxlY3RUYXJnZXQoJzUwMC0zNTAwJywgNTAwKSI+U0VMRUNUPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWNhcmQiIGRhdGEtdGFyZ2V0PSIxMDAwLTEwMDAwIiBkYXRhLXByaWNlPSI5OTkiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtcmFuZ2UiPjEwMDAgVG8gMTAwMDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXByaWNlIj7igrk5OTk8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWRlc2MiPlN0YXJ0IHdpdGgg4oK5MTAwMCwgdGFyZ2V0IOKCuTEwMDAwPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNlbGVjdC1idG4iIG9uY2xpY2s9InNlbGVjdFRhcmdldCgnMTAwMC0xMDAwMCcsIDk5OSkiPlNFTEVDVDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1jYXJkIiBkYXRhLXRhcmdldD0iMjUwMC0yNTAwMCIgZGF0YS1wcmljZT0iMTUwMCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1yYW5nZSI+MjUwMCBUbyAyNTAwMDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtcHJpY2UiPuKCuTE1MDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWRlc2MiPlN0YXJ0IHdpdGgg4oK5MjUwMCwgdGFyZ2V0IOKCuTI1MDAwPC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNlbGVjdC1idG4iIG9uY2xpY2s9InNlbGVjdFRhcmdldCgnMjUwMC0yNTAwMCcsIDE1MDApIj5TRUxFQ1Q8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtY2FyZCIgZGF0YS10YXJnZXQ9IjUwMDAtNTAwMDAiIGRhdGEtcHJpY2U9IjI1MDAiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtcmFuZ2UiPjUwMDAgVG8gNTAwMDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXByaWNlIj7igrkyNTAwPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1kZXNjIj5TdGFydCB3aXRoIOKCuTUwMDAsIHRhcmdldCDigrk1MDAwMDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWxlY3QtYnRuIiBvbmNsaWNrPSJzZWxlY3RUYXJnZXQoJzUwMDAtNTAwMDAnLCAyNTAwKSI+U0VMRUNUPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWNhcmQiIGRhdGEtdGFyZ2V0PSIxMDAwLTM1MDAwIiBkYXRhLXByaWNlPSI1MDAwIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXJhbmdlIj4xMDAwIFRvIDM1MDAwPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1wcmljZSI+4oK5NTAwMDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtZGVzYyI+U3RhcnQgd2l0aCDigrkxMDAwLCB0YXJnZXQg4oK5MzUwMDA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2VsZWN0LWJ0biIgb25jbGljaz0ic2VsZWN0VGFyZ2V0KCcxMDAwLTM1MDAwJywgNTAwMCkiPlNFTEVDVDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1jYXJkIiBkYXRhLXRhcmdldD0iMjAwMC03MDAwMCIgZGF0YS1wcmljZT0iMTAwMDAiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtcmFuZ2UiPjIwMDAgVG8gNzAwMDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXByaWNlIj7igrkxMDAwMDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtZGVzYyI+U3RhcnQgd2l0aCDigrkyMDAwLCB0YXJnZXQg4oK5NzAwMDA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2VsZWN0LWJ0biIgb25jbGljaz0ic2VsZWN0VGFyZ2V0KCcyMDAwLTcwMDAwJywgMTAwMDApIj5TRUxFQ1Q8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L3NlY3Rpb24+Cgo8IS0tIEFkZC1vbnMgU2VsZWN0aW9uIFBhZ2UgLS0+CjxzZWN0aW9uIGlkPSJhZGRvbnMtcGFnZSI+CiAgICA8ZGl2IGNsYXNzPSJiYWNrLWJ1dHRvbiIgb25jbGljaz0iZ29CYWNrVG9UYXJnZXQoKSI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1hcnJvdy1sZWZ0Ij48L2k+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImFkZG9ucy1jb250YWluZXIiPgogICAgICAgIDxoMiBjbGFzcz0iYWRkb25zLXRpdGxlIj5BREQtT05TIFNFTEVDVElPTjwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LXN1bW1hcnkiPgogICAgICAgICAgICA8ZGl2IGlkPSJzZWxlY3RlZC10YXJnZXQtc3VtbWFyeSIgc3R5bGU9ImZvbnQtc2l6ZTogMS4zcmVtOyBjb2xvcjogdmFyKC0tZ29sZCk7Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiAjYWFhOyBtYXJnaW4tdG9wOiA1cHg7Ij5UYXJnZXQgU2VsZWN0ZWQ8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8IS0tIEFjY3VyYWN5IEJvb3N0ZXIgLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24taXRlbSIgaWQ9ImFjY3VyYWN5LWJvb3N0ZXItaXRlbSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFkZG9uLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbi1uYW1lIj45MCUgQUNDVVJBQ1kgQk9PU1RFUjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tcHJpY2UiIGlkPSJhY2N1cmFjeS1ib29zdGVyLXByaWNlIj7igrk1MDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tZGVzYyI+Qm9vc3QgeW91ciBwcmVkaWN0aW9uIGFjY3VyYWN5IHRvIDkwJSBmb3IgdGhpcyB0YXJnZXQgY3ljbGUuPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFkZG9uLWJlbmVmaXRzIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+IDkwJSBQcmVkaWN0aW9uIEFjY3VyYWN5PGJyPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiPjwvaT4gQWR2YW5jZWQgUGF0dGVybiBBbmFseXNpczxicj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+IFNtYXJ0IEJldCBBZGp1c3RtZW50CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbi10b2dnbGUiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2tpcC1idG4iIG9uY2xpY2s9InNraXBBY2N1cmFjeUJvb3N0ZXIoKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPiBTS0lQCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRvZ2dsZS1idG4iIGlkPSJhY2N1cmFjeS1ib29zdGVyLXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlQWNjdXJhY3lCb29zdGVyKCkiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8IS0tIEluc3VyYW5jZSAtLT4KICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbi1pdGVtIiBpZD0iaW5zdXJhbmNlLWl0ZW0iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbi1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tbmFtZSI+TE9TUyBQUk9URUNUSU9OIElOU1VSQU5DRTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tcHJpY2UiIGlkPSJpbnN1cmFuY2UtcHJpY2UiPuKCuTEwMDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tZGVzYyI+R2V0IGZ1bGwgcmVmdW5kIG9mIGRlcG9zaXQgKyB0YXJnZXQgcHJpY2UgaWYgeW91IGxvc2UuPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFkZG9uLWJlbmVmaXRzIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2hpZWxkLWFsdCI+PC9pPiBGdWxsIERlcG9zaXQgUmVmdW5kPGJyPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zaGllbGQtYWx0Ij48L2k+IFRhcmdldCBQcmljZSBSZWZ1bmQ8YnI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNoaWVsZC1hbHQiPjwvaT4gMTAwJSBNb25leSBCYWNrIEd1YXJhbnRlZQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tdG9nZ2xlIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InNraXAtYnRuIiBvbmNsaWNrPSJza2lwSW5zdXJhbmNlKCkiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdGltZXMiPjwvaT4gU0tJUAogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0b2dnbGUtYnRuIiBpZD0iaW5zdXJhbmNlLXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlSW5zdXJhbmNlKCkiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJ0b3RhbC1hbW91bnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b3RhbC1sYWJlbCI+VE9UQUwgUEFZQUJMRSBBTU9VTlQ8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idG90YWwtdmFsdWUiIGlkPSJ0b3RhbC1wYXlhYmxlLWFtb3VudCI+4oK5MjUwPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJvY2VlZC1idG4iIG9uY2xpY2s9InByb2NlZWRUb1BheW1lbnQoKSI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtYXJyb3ctcmlnaHQiPjwvaT4gUFJPQ0VFRCBUTyBQQVlNRU5UCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgCiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjhyZW07IGNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiAyMHB4OyI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtaW5mby1jaXJjbGUiPjwvaT4gQWRkLW9ucyBhcmUgb3B0aW9uYWwuIFlvdSBjYW4gc2tpcCBib3RoLgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+Cjwvc2VjdGlvbj4KCjwhLS0gUGF5bWVudCBQYWdlIC0tPgo8c2VjdGlvbiBpZD0icGF5bWVudC1wYWdlIj4KICAgIDxkaXYgY2xhc3M9ImJhY2stYnV0dG9uIiBvbmNsaWNrPSJnb0JhY2tUb0FkZG9ucygpIj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWFycm93LWxlZnQiPjwvaT4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0icGF5bWVudC1jb250YWluZXIiPgogICAgICAgIDxoMiBjbGFzcz0icGF5bWVudC10aXRsZSI+Q09NUExFVEUgUEFZTUVOVDwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0idGFyZ2V0LWRpc3BsYXkiPgogICAgICAgICAgICA8ZGl2IGlkPSJzZWxlY3RlZC10YXJnZXQtZGlzcGxheSIgc3R5bGU9ImZvbnQtc2l6ZTogMS4zcmVtOyBjb2xvcjogdmFyKC0tZ29sZCk7Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiAjYWFhOyBtYXJnaW4tdG9wOiA1cHg7Ij5UYXJnZXQgU2VsZWN0ZWQ8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbnMtc3VtbWFyeSIgaWQ9ImFkZG9ucy1zdW1tYXJ5LWRpc3BsYXkiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogdmFyKC0tdGVhbCk7IG1hcmdpbi1ib3R0b206IDhweDsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij5TRUxFQ1RFRCBBREQtT05TOjwvZGl2PgogICAgICAgICAgICA8IS0tIER5bmFtaWMgY29udGVudCB3aWxsIGJlIGluc2VydGVkIGhlcmUgLS0+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0icXItY29udGFpbmVyIj4KICAgICAgICAgICAgPGltZyBzcmM9aHR0cHM6Ly9pLmliYi5jby9ITFhYQlJMbS9JTUctMjAyNjAyMDMtMDk0MTM1LTc2OC5qcGciIGFsdD0iUGF5bWVudCBRUiBDb2RlIj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJwYXltZW50LWFtb3VudCIgaWQ9InBheW1lbnQtYW1vdW50LWRpc3BsYXkiPlBheSDigrkyNTA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJwYXltZW50LWluc3RydWN0aW9uIj4KICAgICAgICAgICAgPHA+PGkgY2xhc3M9ImZhcyBmYS1pbmZvLWNpcmNsZSI+PC9pPiBTY2FuIFFSIGNvZGUgYW5kIHBheSBleGFjdCBhbW91bnQ8L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDAuOHJlbTsgY29sb3I6ICNhYWE7IG1hcmdpbi10b3A6IDVweDsiPkFmdGVyIHBheW1lbnQsIGVudGVyIFVUUiBudW1iZXIgYmVsb3c8L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ1dHItaW5wdXQiIGNsYXNzPSJ1dHItaW5wdXQiIHBsYWNlaG9sZGVyPSJFbnRlciBVVFIgTnVtYmVyIiBtYXhsZW5ndGg9IjIwIj4KICAgICAgICAKICAgICAgICA8YnV0dG9uIGNsYXNzPSJzdWJtaXQtYnRuIiBvbmNsaWNrPSJzdWJtaXRQYXltZW50KCkiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiBTVUJNSVQgVVRSCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3VwcG9ydC1idG4iIG9uY2xpY2s9Im9wZW5TdXBwb3J0KCkiPgogICAgICAgICAgICA8aSBjbGFzcz0idC5tZS9ZdF9iaGFpMTAiPjwvaT4gQ1VTVE9NRVIgU1VQUE9SVAogICAgICAgIDwvYnV0dG9uPgogICAgICAgIAogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC44cmVtOyBjb2xvcjogIzY2NjsgbWFyZ2luLXRvcDogMjBweDsiPgogICAgICAgICAgICA8aSBjbGFzcz0idC5tZS9ZdF9iaGFpMTAiPjwvaT4gUGF5bWVudCB2ZXJpZmllZCBtYW51YWxseS4gQXBwcm92YWwgdGFrZXMgMi01IG1pbnV0ZXMuCiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9zZWN0aW9uPgoKPCEtLSBQcmVkaWN0aW9uIFBhZ2UgLS0+CjxzZWN0aW9uIGlkPSJwcmVkaWN0aW9uLXBhZ2UiPgogICAgPGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBjbGFzcz0iYmFjay1idXR0b24iIG9uY2xpY2s9ImdvVG9UYXJnZXRTZWxlY3Rpb24oKSI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtaG9tZSI+PC9pPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9InRhcmdldC1oZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJnZXQtZ29hbCIgaWQ9ImN1cnJlbnQtdGFyZ2V0LWdvYWwiPlRhcmdldDogMzUwIFRvIDE1MDA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb25zLWJhZGdlcyIgaWQ9ImFkZG9ucy1iYWRnZXMiPgogICAgICAgICAgICAgICAgPCEtLSBEeW5hbWljIGJhZGdlcyB3aWxsIGJlIGluc2VydGVkIGhlcmUgLS0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9ImJhbGFuY2UtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFsYW5jZS1sYWJlbCI+Q1VSUkVOVCBCQUxBTkNFPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhbGFuY2UtYW1vdW50IiBpZD0iY3VycmVudC1iYWxhbmNlIj7igrkzNTA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJwZXJpb2QtZGlzcGxheSI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC45cmVtOyBjb2xvcjogdmFyKC0tYmx1ZSk7Ij5MSVZFIE5FWFQgUEVSSU9EPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBlcmlvZC1udW1iZXIiIGlkPSJjdXJyZW50LXBlcmlvZCI+TE9BRElORy4uLjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9InByZWRpY3Rpb24tbWFpbiI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC45cmVtOyBjb2xvcjogI2FhYTsiPk5FWFQgUFJFRElDVElPTjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJwcmVkaWN0aW9uLXRleHQiIGNsYXNzPSJwcmVkaWN0aW9uLXRleHQiPi0tPC9kaXY+CiAgICAgICAgICAgIDxkaXYgaWQ9InByZWRpY3Rpb24tdHlwZSIgc3R5bGU9ImNvbG9yOiB2YXIoLS1uZW9uLXB1cnBsZSk7IGZvbnQtc2l6ZTogMS4xcmVtOyI+QklHL1NNQUxMPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJiZXQtYW1vdW50IiBpZD0iYmV0LWFtb3VudC1kaXNwbGF5Ij5CZXQgQW1vdW50OiDigrkwPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJiZXQtbGV2ZWxzIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWJveCIgaWQ9ImxldmVsLTEiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLW51bWJlciI+TEVWRUwgMTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLXBlcmNlbnQiPjE1JTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWFtb3VudCIgaWQ9ImxldmVsLTEtYW1vdW50Ij7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWJveCIgaWQ9ImxldmVsLTIiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLW51bWJlciI+TEVWRUwgMjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLXBlcmNlbnQiPjMwJTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWFtb3VudCIgaWQ9ImxldmVsLTItYW1vdW50Ij7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWJveCIgaWQ9ImxldmVsLTMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLW51bWJlciI+TEVWRUwgMzwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLXBlcmNlbnQiPjU1JTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxldmVsLWFtb3VudCIgaWQ9ImxldmVsLTMtYW1vdW50Ij7igrkwPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIAogICAgICAgICAgICA8IS0tIFBhdHRlcm4gQW5hbHlzaXMgSW5mbyAtLT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icGF0dGVybi1pbmZvIiBpZD0icGF0dGVybi1pbmZvIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiB2YXIoLS1ibHVlKTsgbWFyZ2luLWJvdHRvbTogNXB4OyI+UEFUVEVSTiBBTkFMWVNJUzo8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBhdHRlcm4tZGV0YWlscyI+QW5hbHl6aW5nIHBhdHRlcm5zLi4uPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgZm9udC1zaXplOiAwLjhyZW07IGNvbG9yOiAjYWFhOyI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWluZm8tY2lyY2xlIj48L2k+IEJldCBwcm9ncmVzc2VzIHRocm91Z2ggbGV2ZWxzIG9uIGxvc3MKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iaGlzdG9yeS1wYW5lbCIgaWQ9Imhpc3RvcnktbGlzdCI+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IHZhcigtLW5lb24tcHVycGxlKTsgbWFyZ2luLWJvdHRvbTogMTBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij5QUkVESUNUSU9OIEhJU1RPUlk8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iaGlzdG9yeS1pdGVtcyI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOiAyMHB4OyBmb250LXNpemU6IDAuN3JlbTsgY29sb3I6ICM2NjY7Ij4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jb3B5cmlnaHQiPjwvaT4gTWlja2V5IFggV2ViIDIwMjQgfCBVbHRyYSBQcm8gUHJlZGljdG9yCiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9zZWN0aW9uPgoKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9wYXJ0aWNsZXMuanMvMi4wLjAvcGFydGljbGVzLm1pbi5qcyI+PC9zY3JpcHQ+CjwhLS0gQ2hhcnQuanMgZm9yIFN0YXRpc3RpY3MgLS0+CjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NoYXJ0LmpzIj48L3NjcmlwdD4KPHNjcmlwdD4KICAgIC8vIEluaXRpYWxpemUgRmlyZWJhc2UKICAgIGNvbnN0IGZpcmViYXNlQ29uZmlnID0gewogICAgICAgIGFwaUtleTogIkFJemFTeUNTaGFJN0ZmREN2Wjl0MjFSZEJrN0FUams1UFFVQWVRSSIsCiAgICAgICAgYXV0aERvbWFpbjogIndpbmdvLXByZWRpY3Rvci1odWIuZmlyZWJhc2VhcHAuY29tIiwKICAgICAgICBkYXRhYmFzZVVSTDogImh0dHBzOi8vd2luZ28tcHJlZGljdG9yLWh1Yi1kZWZhdWx0LXJ0ZGIuYXNpYS1zb3V0aGVhc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwIiwKICAgICAgICBwcm9qZWN0SWQ6ICJ3aW5nby1wcmVkaWN0b3ItaHViIiwKICAgICAgICBzdG9yYWdlQnVja2V0OiAid2luZ28tcHJlZGljdG9yLWh1Yi5maXJlYmFzZXN0b3JhZ2UuYXBwIiwKICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogIjUxMDkzNDYyNjI0MCIsCiAgICAgICAgYXBwSWQ6ICIxOjUxMDkzNDYyNjI0MDp3ZWI6OGRmOWM0YjRhNzg5NjRmMTVkMjIyNSIsCiAgICAgICAgbWVhc3VyZW1lbnRJZDogIkctVFRNN1dYQzREVyIKICAgIH07CiAgICAKICAgIGZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpOwogICAgY29uc3QgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwogICAgCiAgICAvLyBQYXJ0aWNsZXMgYmFja2dyb3VuZAogICAgcGFydGljbGVzSlMoInBhcnRpY2xlcy1qcyIsIHsKICAgICAgICBwYXJ0aWNsZXM6IHsKICAgICAgICAgICAgbnVtYmVyOiB7IHZhbHVlOiA2MCwgZGVuc2l0eTogeyBlbmFibGU6IHRydWUsIHZhbHVlX2FyZWE6IDgwMCB9IH0sCiAgICAgICAgICAgIGNvbG9yOiB7IHZhbHVlOiAiI2JjMTNmZSIgfSwKICAgICAgICAgICAgc2hhcGU6IHsgdHlwZTogImNpcmNsZSIgfSwKICAgICAgICAgICAgb3BhY2l0eTogeyB2YWx1ZTogMC4zIH0sCiAgICAgICAgICAgIHNpemU6IHsgdmFsdWU6IDIgfSwKICAgICAgICAgICAgbGluZV9saW5rZWQ6IHsKICAgICAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGRpc3RhbmNlOiAxNTAsCiAgICAgICAgICAgICAgICBjb2xvcjogIiNiYzEzZmUiLAogICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yLAogICAgICAgICAgICAgICAgd2lkdGg6IDEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbW92ZTogewogICAgICAgICAgICAgICAgZW5hYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgc3BlZWQ6IDIsCiAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICJub25lIiwKICAgICAgICAgICAgICAgIG91dF9tb2RlOiAiYm91bmNlIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICAKICAgIC8vIEdsb2JhbCB2YXJpYWJsZXMKICAgIGNvbnN0IEFQSV9VUkwgPSAiaHR0cHM6Ly9kcmF3LmFyLWxvdHRlcnkwMS5jb20vV2luR28vV2luR29fMU0vR2V0SGlzdG9yeUlzc3VlUGFnZS5qc29uIjsKICAgIGxldCBsYXN0UGVyaW9kID0gIiI7CiAgICBsZXQgY3VycmVudFBsYXRmb3JtID0gIiI7CiAgICBsZXQgY3VycmVudFRhcmdldCA9ICIiOwogICAgbGV0IGN1cnJlbnRQcmljZSA9IDA7CiAgICBsZXQgY3VycmVudEJhbGFuY2UgPSAwOwogICAgbGV0IHRhcmdldE1heCA9IDA7CiAgICBsZXQgY3VycmVudExldmVsID0gMTsKICAgIGxldCBjdXJyZW50QmV0QW1vdW50ID0gMDsKICAgIGxldCBoaXN0b3J5RGF0YSA9IFtdOwogICAgbGV0IHdpblN0cmVhayA9IDA7CiAgICBsZXQgbG9zc1N0cmVhayA9IDA7CiAgICBsZXQgdG90YWxQcmVkaWN0aW9ucyA9IDA7CiAgICBsZXQgY29ycmVjdFByZWRpY3Rpb25zID0gMDsKICAgIGxldCBhbmFseXNpc1dpbmRvd1NpemUgPSAxMDsgLy8gU3RhcnQgd2l0aCAxMCByZXN1bHRzCiAgICBsZXQgYWxsUmVzdWx0cyA9IFtdOyAvLyBTdG9yZSBhbGwgcmVzdWx0cyBmb3IgYW5hbHlzaXMKICAgIGxldCBpc0FuYWx5emluZyA9IGZhbHNlOwogICAgbGV0IHVzZXJJZCA9ICIiOwogICAgbGV0IHBheW1lbnRSZXF1ZXN0SWQgPSAiIjsKICAgIGxldCBvcmlnaW5hbEJhbGFuY2VGb3JDeWNsZSA9IDA7CiAgICBsZXQgY3VycmVudFByZWRpY3Rpb25Nb2RlID0gIlNJWkUiOyAvLyAiU0laRSIgb3IgIkNPTE9SIgogICAgbGV0IGxhc3RCZXRXb24gPSB0cnVlOwogICAgbGV0IHBhdHRlcm5IaXN0b3J5ID0gW107CiAgICAKICAgIC8vIEFkZC1vbnMgdmFyaWFibGVzCiAgICBsZXQgYWNjdXJhY3lCb29zdGVyU2VsZWN0ZWQgPSBmYWxzZTsKICAgIGxldCBpbnN1cmFuY2VTZWxlY3RlZCA9IGZhbHNlOwogICAgbGV0IGFjY3VyYWN5Qm9vc3RlclByaWNlID0gMDsKICAgIGxldCBpbnN1cmFuY2VQcmljZSA9IDA7CiAgICBsZXQgdG90YWxQYXlhYmxlQW1vdW50ID0gMDsKICAgIAogICAgLy8gVGFyZ2V0IGNvbmZpZ3VyYXRpb25zIHdpdGggYWRkLW9uIHByaWNlcwogICAgY29uc3QgdGFyZ2V0Q29uZmlncyA9IHsKICAgICAgICAiMzUwLTE1MDAiOiB7IHN0YXJ0OiAzNTAsIHRhcmdldDogMTUwMCwgcHJpY2U6IDI1MCwgYm9vc3RlcjogNTAsIGluc3VyYW5jZTogMTAwIH0sCiAgICAgICAgIjUwMC0zNTAwIjogeyBzdGFydDogNTAwLCB0YXJnZXQ6IDM1MDAsIHByaWNlOiA1MDAsIGJvb3N0ZXI6IDEwMCwgaW5zdXJhbmNlOiAyMDAgfSwKICAgICAgICAiMTAwMC0xMDAwMCI6IHsgc3RhcnQ6IDEwMDAsIHRhcmdldDogMTAwMDAsIHByaWNlOiA5OTksIGJvb3N0ZXI6IDIwMCwgaW5zdXJhbmNlOiA0MDAgfSwKICAgICAgICAiMjUwMC0yNTAwMCI6IHsgc3RhcnQ6IDI1MDAsIHRhcmdldDogMjUwMDAsIHByaWNlOiAxNTAwLCBib29zdGVyOiAzMDAsIGluc3VyYW5jZTogNjAwIH0sCiAgICAgICAgIjUwMDAtNTAwMDAiOiB7IHN0YXJ0OiA1MDAwLCB0YXJnZXQ6IDUwMDAwLCBwcmljZTogMjUwMCwgYm9vc3RlcjogNTAwLCBpbnN1cmFuY2U6IDEwMDAgfSwKICAgICAgICAiMTAwMC0zNTAwMCI6IHsgc3RhcnQ6IDEwMDAsIHRhcmdldDogMzUwMDAsIHByaWNlOiA1MDAwLCBib29zdGVyOiAxMDAwLCBpbnN1cmFuY2U6IDIwMDAgfSwKICAgICAgICAiMjAwMC03MDAwMCI6IHsgc3RhcnQ6IDIwMDAsIHRhcmdldDogNzAwMDAsIHByaWNlOiAxMDAwMCwgYm9vc3RlcjogMjAwMCwgaW5zdXJhbmNlOiA0MDAwIH0KICAgIH07CiAgICAKICAgIC8vIENoYXJ0IGluc3RhbmNlCiAgICBsZXQgZWFybmluZ3NDaGFydCA9IG51bGw7CiAgICAKICAgIC8vIEdlbmVyYXRlIHVzZXIgSUQKICAgIGZ1bmN0aW9uIGdlbmVyYXRlVXNlcklkKCkgewogICAgICAgIGxldCBpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaWNrZXlfdXNlcl9pZCcpOwogICAgICAgIGlmICghaWQpIHsKICAgICAgICAgICAgaWQgPSAndXNlcl8nICsgRGF0ZS5ub3coKSArICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pY2tleV91c2VyX2lkJywgaWQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaWQ7CiAgICB9CiAgICAKICAgIC8vIEluaXRpYWxpemUgdXNlciBJRAogICAgdXNlcklkID0gZ2VuZXJhdGVVc2VySWQoKTsKICAgIAogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gQURNSU4gUEFORUwgRlVOQ1RJT05TID09PT09PT09PT09PT09PT09PT09CiAgICAKICAgIGZ1bmN0aW9uIG9wZW5BZG1pblBhbmVsKCkgewogICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCJFbnRlciBBZG1pbiBQYXNzd29yZDoiKTsKICAgICAgICBpZiAocGFzc3dvcmQgPT09ICI3NzM4IikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tcGFuZWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluLWNvbnRyb2xzJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGxvYWRQYXltZW50UmVxdWVzdHMoKTsKICAgICAgICAgICAgbG9hZFN0YXRpc3RpY3MoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydCgnV3JvbmcgcGFzc3dvcmQhJyk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBjbG9zZUFkbWluUGFuZWwoKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluLXBhbmVsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tcGFzcycpLnZhbHVlID0gJyc7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHN3aXRjaEFkbWluVGFiKHRhYk5hbWUpIHsKICAgICAgICAvLyBIaWRlIGFsbCB0YWJzCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkbWluLWNvbnRlbnQnKS5mb3JFYWNoKHRhYiA9PiB7CiAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIHRhYiBidXR0b25zCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkbWluLXRhYicpLmZvckVhY2godGFiQnRuID0+IHsKICAgICAgICAgICAgdGFiQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIFNob3cgc2VsZWN0ZWQgdGFiCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiTmFtZSArICctdGFiJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgCiAgICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjbGlja2VkIHRhYiBidXR0b24KICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgCiAgICAgICAgLy8gTG9hZCB0YWIgc3BlY2lmaWMgZGF0YQogICAgICAgIHN3aXRjaCh0YWJOYW1lKSB7CiAgICAgICAgICAgIGNhc2UgJ3BheW1lbnRzJzoKICAgICAgICAgICAgICAgIGxvYWRQYXltZW50UmVxdWVzdHMoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICd1c2Vycyc6CiAgICAgICAgICAgICAgICBsb2FkQWxsVXNlcnMoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdzdGF0cyc6CiAgICAgICAgICAgICAgICBsb2FkU3RhdGlzdGljcygpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ21hbnVhbCc6CiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGxvYWQKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdyZXBvcnRzJzoKICAgICAgICAgICAgICAgIGdlbmVyYXRlRGFpbHlSZXBvcnQoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2VhcmNoQWRtaW5Db250ZW50KCkgewogICAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tc2VhcmNoJykudmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAKICAgICAgICAvLyBHZXQgY3VycmVudCBhY3RpdmUgdGFiCiAgICAgICAgY29uc3QgYWN0aXZlVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluLWNvbnRlbnQuYWN0aXZlJyk7CiAgICAgICAgaWYgKCFhY3RpdmVUYWIpIHJldHVybjsKICAgICAgICAKICAgICAgICAvLyBTZWFyY2ggaW4gcGF5bWVudCByZXF1ZXN0cwogICAgICAgIGlmIChhY3RpdmVUYWIuaWQgPT09ICdwYXltZW50cy10YWInKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXF1ZXN0LWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IHRleHQuaW5jbHVkZXMoc2VhcmNoVGVybSkgPyAnZmxleCcgOiAnbm9uZSc7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBTZWFyY2ggaW4gdXNlcnMgbGlzdAogICAgICAgIGlmIChhY3RpdmVUYWIuaWQgPT09ICd1c2Vycy10YWInKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51c2VyLWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IHRleHQuaW5jbHVkZXMoc2VhcmNoVGVybSkgPyAnZmxleCcgOiAnbm9uZSc7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gUEFZTUVOVCBNQU5BR0VNRU5UID09PT09PT09PT09PT09PT09PT09CiAgICAKICAgIGZ1bmN0aW9uIGxvYWRQYXltZW50UmVxdWVzdHMoKSB7CiAgICAgICAgZGF0YWJhc2UucmVmKCdwYXltZW50UmVxdWVzdHMnKS5vcmRlckJ5Q2hpbGQoJ3N0YXR1cycpLmVxdWFsVG8oJ3BlbmRpbmcnKS5vbmNlKCd2YWx1ZScpCiAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RzID0gc25hcHNob3QudmFsKCk7CiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudC1yZXF1ZXN0cycpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJjb2xvcjogI2FhYTsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyI+Tm8gcGVuZGluZyByZXF1ZXN0czwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0cykuZm9yRWFjaChyZXF1ZXN0SWQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0c1tyZXF1ZXN0SWRdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAncmVxdWVzdC1pdGVtJzsKICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXF1ZXN0LWluZm8iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPlVzZXI6PC9zdHJvbmc+ICR7cmVxdWVzdC51c2VySWQuc3Vic3RyaW5nKDAsIDEwKX0uLi48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5UYXJnZXQ6PC9zdHJvbmc+ICR7cmVxdWVzdC50YXJnZXR9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+QW1vdW50Ojwvc3Ryb25nPiDigrkke3JlcXVlc3QuYW1vdW50fTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPlVUUjo8L3N0cm9uZz4gJHtyZXF1ZXN0LnV0cn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5UaW1lOjwvc3Ryb25nPiAke25ldyBEYXRlKHJlcXVlc3QudGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPkFkZC1vbnM6PC9zdHJvbmc+ICR7cmVxdWVzdC5hY2N1cmFjeUJvb3N0ZXIgPyAnQm9vc3RlciAnIDogJyd9JHtyZXF1ZXN0Lmluc3VyYW5jZSA/ICdJbnN1cmFuY2UnIDogJyd9JHshcmVxdWVzdC5hY2N1cmFjeUJvb3N0ZXIgJiYgIXJlcXVlc3QuaW5zdXJhbmNlID8gJ05vbmUnIDogJyd9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXF1ZXN0LWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWFwcHJvdmUiIG9uY2xpY2s9ImFwcHJvdmVQYXltZW50KCcke3JlcXVlc3RJZH0nLCAnJHtyZXF1ZXN0LnVzZXJJZH0nLCAnJHtyZXF1ZXN0LnRhcmdldH0nLCAke3JlcXVlc3QuYW1vdW50fSwgJHtyZXF1ZXN0LmFjY3VyYWN5Qm9vc3RlciB8fCBmYWxzZX0sICR7cmVxdWVzdC5pbnN1cmFuY2UgfHwgZmFsc2V9KSI+QXBwcm92ZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXJlamVjdCIgb25jbGljaz0icmVqZWN0UGF5bWVudCgnJHtyZXF1ZXN0SWR9JykiPlJlamVjdDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWZyZXNoUGF5bWVudHMoKSB7CiAgICAgICAgbG9hZFBheW1lbnRSZXF1ZXN0cygpOwogICAgICAgIGFsZXJ0KCdQYXltZW50IHJlcXVlc3RzIHJlZnJlc2hlZCEnKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZUFsbFBheW1lbnRzKCkgewogICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYXBwcm92ZSBBTEwgcGVuZGluZyBwYXltZW50cz8nKSkgewogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cycpLm9yZGVyQnlDaGlsZCgnc3RhdHVzJykuZXF1YWxUbygncGVuZGluZycpLm9uY2UoJ3ZhbHVlJykKICAgICAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0cyA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05vIHBlbmRpbmcgcGF5bWVudHMgZm91bmQhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IGFwcHJvdmVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcXVlc3RzKS5mb3JFYWNoKHJlcXVlc3RJZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0c1tyZXF1ZXN0SWRdOwogICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cy8nICsgcmVxdWVzdElkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWRBdDogRGF0ZS5ub3coKQogICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JZCA9ICdzZXNzaW9uXycgKyBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRhcmdldENvbmZpZ3NbcmVxdWVzdC50YXJnZXRdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3Nlc3Npb25zLycgKyByZXF1ZXN0LnVzZXJJZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogcmVxdWVzdC5wbGF0Zm9ybSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlcXVlc3QudGFyZ2V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QmFsYW5jZTogdGFyZ2V0RGF0YS5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZTogdGFyZ2V0RGF0YS5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBbW91bnQ6IHRhcmdldERhdGEudGFyZ2V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3VyYWN5Qm9vc3RlcjogcmVxdWVzdC5hY2N1cmFjeUJvb3N0ZXIgfHwgZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdXJhbmNlOiByZXF1ZXN0Lmluc3VyYW5jZSB8fCBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWRBdDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0QWN0aXZlOiBEYXRlLm5vdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm92ZWRDb3VudCA9PT0gT2JqZWN0LmtleXMocmVxdWVzdHMpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBBcHByb3ZlZCAke2FwcHJvdmVkQ291bnR9IHBheW1lbnRzIHN1Y2Nlc3NmdWxseSFgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGF5bWVudFJlcXVlc3RzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWplY3RBbGxQYXltZW50cygpIHsKICAgICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlamVjdCBBTEwgcGVuZGluZyBwYXltZW50cz8nKSkgewogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cycpLm9yZGVyQnlDaGlsZCgnc3RhdHVzJykuZXF1YWxUbygncGVuZGluZycpLm9uY2UoJ3ZhbHVlJykKICAgICAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0cyA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05vIHBlbmRpbmcgcGF5bWVudHMgZm91bmQhJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlamVjdGVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcXVlc3RzKS5mb3JFYWNoKHJlcXVlc3RJZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZigncGF5bWVudFJlcXVlc3RzLycgKyByZXF1ZXN0SWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdyZWplY3RlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RlZEF0OiBEYXRlLm5vdygpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRDb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlamVjdGVkQ291bnQgPT09IE9iamVjdC5rZXlzKHJlcXVlc3RzKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgUmVqZWN0ZWQgJHtyZWplY3RlZENvdW50fSBwYXltZW50cyBzdWNjZXNzZnVsbHkhYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBheW1lbnRSZXF1ZXN0cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZVBheW1lbnQocmVxdWVzdElkLCB1c2VySWQsIHRhcmdldCwgYW1vdW50LCBhY2N1cmFjeUJvb3N0ZXIsIGluc3VyYW5jZSkgewogICAgICAgIGRhdGFiYXNlLnJlZigncGF5bWVudFJlcXVlc3RzLycgKyByZXF1ZXN0SWQpLnVwZGF0ZSh7CiAgICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJywKICAgICAgICAgICAgYXBwcm92ZWRBdDogRGF0ZS5ub3coKQogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSAnc2Vzc2lvbl8nICsgRGF0ZS5ub3coKTsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRhcmdldENvbmZpZ3NbdGFyZ2V0XTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMvJyArIHVzZXJJZCkuc2V0KHsKICAgICAgICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLAogICAgICAgICAgICAgICAgcGxhdGZvcm06IGN1cnJlbnRQbGF0Zm9ybSwKICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LAogICAgICAgICAgICAgICAgc3RhcnRCYWxhbmNlOiB0YXJnZXREYXRhLnN0YXJ0LAogICAgICAgICAgICAgICAgY3VycmVudEJhbGFuY2U6IHRhcmdldERhdGEuc3RhcnQsCiAgICAgICAgICAgICAgICB0YXJnZXRBbW91bnQ6IHRhcmdldERhdGEudGFyZ2V0LAogICAgICAgICAgICAgICAgYWNjdXJhY3lCb29zdGVyOiBhY2N1cmFjeUJvb3N0ZXIgfHwgZmFsc2UsCiAgICAgICAgICAgICAgICBpbnN1cmFuY2U6IGluc3VyYW5jZSB8fCBmYWxzZSwKICAgICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICBzdGFydGVkQXQ6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICBsYXN0QWN0aXZlOiBEYXRlLm5vdygpCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgYWxlcnQoJ1BheW1lbnQgYXBwcm92ZWQhIFVzZXIgY2FuIG5vdyBhY2Nlc3MgcHJlZGljdGlvbiBwYWdlLicpOwogICAgICAgICAgICAgICAgbG9hZFBheW1lbnRSZXF1ZXN0cygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVqZWN0UGF5bWVudChyZXF1ZXN0SWQpIHsKICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cy8nICsgcmVxdWVzdElkKS51cGRhdGUoewogICAgICAgICAgICBzdGF0dXM6ICdyZWplY3RlZCcsCiAgICAgICAgICAgIHJlamVjdGVkQXQ6IERhdGUubm93KCkKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgbG9hZFBheW1lbnRSZXF1ZXN0cygpOwogICAgICAgIH0pOwogICAgfQogICAgCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBVU0VSIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT0KICAgIAogICAgZnVuY3Rpb24gbG9hZEFsbFVzZXJzKCkgewogICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMnKS5vbmNlKCd2YWx1ZScpCiAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gc25hcHNob3QudmFsKCk7CiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnMtbGlzdCcpOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25zKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJjb2xvcjogI2FhYTsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyI+Tm8gYWN0aXZlIHVzZXJzIGZvdW5kPC9kaXY+JzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCB0b3RhbEVhcm5pbmdzID0gMDsKICAgICAgICAgICAgICAgIGxldCBhY3RpdmVDb3VudCA9IDA7CiAgICAgICAgICAgICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZXNzaW9ucykuZm9yRWFjaCh1c2VySWQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uc1t1c2VySWRdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB0YXJnZXRDb25maWdzW3Nlc3Npb24udGFyZ2V0XTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZWFybmluZ3MKICAgICAgICAgICAgICAgICAgICB0b3RhbEVhcm5pbmdzICs9IHRhcmdldERhdGEucHJpY2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uYWNjdXJhY3lCb29zdGVyKSB0b3RhbEVhcm5pbmdzICs9IHRhcmdldERhdGEuYm9vc3RlcjsKICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbi5pbnN1cmFuY2UpIHRvdGFsRWFybmluZ3MgKz0gdGFyZ2V0RGF0YS5pbnN1cmFuY2U7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3JlcXVlc3QtaXRlbSB1c2VyLWl0ZW0nOwogICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcXVlc3QtaW5mbyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+VXNlciBJRDo8L3N0cm9uZz4gJHt1c2VySWQuc3Vic3RyaW5nKDAsIDE1KX0uLi48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5QbGF0Zm9ybTo8L3N0cm9uZz4gJHtzZXNzaW9uLnBsYXRmb3JtfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPlRhcmdldDo8L3N0cm9uZz4gJHtzZXNzaW9uLnRhcmdldH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5CYWxhbmNlOjwvc3Ryb25nPiDigrkke3Nlc3Npb24uY3VycmVudEJhbGFuY2V9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+U3RhcnRlZDo8L3N0cm9uZz4gJHtuZXcgRGF0ZShzZXNzaW9uLnN0YXJ0ZWRBdCkudG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz5BZGQtb25zOjwvc3Ryb25nPiAke3Nlc3Npb24uYWNjdXJhY3lCb29zdGVyID8gJ0Jvb3N0ZXInIDogJyd9ICR7c2Vzc2lvbi5pbnN1cmFuY2UgPyAnSW5zdXJhbmNlJyA6ICcnfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVxdWVzdC1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1hcHByb3ZlIiBvbmNsaWNrPSJtYW5hZ2VVc2VyU2Vzc2lvbignJHt1c2VySWR9JykiPk1hbmFnZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXJlamVjdCIgb25jbGljaz0iZGVsZXRlVXNlclNlc3Npb24oJyR7dXNlcklkfScpIj5EZWxldGU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdHMKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC11c2VycycpLnRleHRDb250ZW50ID0gYWN0aXZlQ291bnQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aXZlLXNlc3Npb25zJykudGV4dENvbnRlbnQgPSBhY3RpdmVDb3VudDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC1lYXJuaW5ncycpLnRleHRDb250ZW50ID0gYOKCuSR7dG90YWxFYXJuaW5nc31gOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlZC10YXJnZXRzJykudGV4dENvbnRlbnQgPSBjb21wbGV0ZWRDb3VudDsKICAgICAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIG1hbmFnZVVzZXJTZXNzaW9uKHVzZXJJZCkgewogICAgICAgIGNvbnN0IGFjdGlvbiA9IHByb21wdChgTWFuYWdlIHVzZXIgJHt1c2VySWR9XG5cbk9wdGlvbnM6XG4xLiBSZXNldCBCYWxhbmNlXG4yLiBBZGQgRnVuZHNcbjMuIENoYW5nZSBUYXJnZXRcbjQuIEV4dGVuZCBTZXNzaW9uXG5cbkVudGVyIG9wdGlvbiBudW1iZXI6YCk7CiAgICAgICAgCiAgICAgICAgaWYgKCFhY3Rpb24pIHJldHVybjsKICAgICAgICAKICAgICAgICBkYXRhYmFzZS5yZWYoJ3Nlc3Npb25zLycgKyB1c2VySWQpLm9uY2UoJ3ZhbHVlJykKICAgICAgICAgICAgLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1VzZXIgc2Vzc2lvbiBub3QgZm91bmQhJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzd2l0Y2goYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JhbGFuY2UgPSBwcm9tcHQoJ0VudGVyIG5ldyBiYWxhbmNlOicpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QmFsYW5jZSAmJiAhaXNOYU4obmV3QmFsYW5jZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMvJyArIHVzZXJJZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZTogcGFyc2VJbnQobmV3QmFsYW5jZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRCYWxhbmNlOiBwYXJzZUludChuZXdCYWxhbmNlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0JhbGFuY2UgcmVzZXQgc3VjY2Vzc2Z1bGx5IScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRBbGxVc2VycygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNhc2UgJzInOgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRBbW91bnQgPSBwcm9tcHQoJ0VudGVyIGFtb3VudCB0byBhZGQ6Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRBbW91bnQgJiYgIWlzTmFOKGFkZEFtb3VudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JhbCA9IChzZXNzaW9uLmN1cnJlbnRCYWxhbmNlIHx8IDApICsgcGFyc2VJbnQoYWRkQW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMvJyArIHVzZXJJZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZTogbmV3QmFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnRnVuZHMgYWRkZWQgc3VjY2Vzc2Z1bGx5IScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRBbGxVc2VycygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNhc2UgJzMnOgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXJnZXQgPSBwcm9tcHQoYEN1cnJlbnQgdGFyZ2V0OiAke3Nlc3Npb24udGFyZ2V0fVxuXG5BdmFpbGFibGUgdGFyZ2V0czpcbjM1MC0xNTAwXG41MDAtMzUwMFxuMTAwMC0xMDAwMFxuMjUwMC0yNTAwMFxuNTAwMC01MDAwMFxuMTAwMC0zNTAwMFxuMjAwMC03MDAwMFxuXG5FbnRlciBuZXcgdGFyZ2V0OmApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VGFyZ2V0ICYmIHRhcmdldENvbmZpZ3NbbmV3VGFyZ2V0XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKCdzZXNzaW9ucy8nICsgdXNlcklkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogbmV3VGFyZ2V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFtb3VudDogdGFyZ2V0Q29uZmlnc1tuZXdUYXJnZXRdLnRhcmdldAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RhcmdldCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQWxsVXNlcnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjYXNlICc0JzoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5kRGF5cyA9IHByb21wdCgnRXh0ZW5kIHNlc3Npb24gYnkgaG93IG1hbnkgZGF5cz8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuZERheXMgJiYgIWlzTmFOKGV4dGVuZERheXMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFbmRUaW1lID0gKHNlc3Npb24uc3RhcnRlZEF0IHx8IERhdGUubm93KCkpICsgKHBhcnNlSW50KGV4dGVuZERheXMpICogMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3Nlc3Npb25zLycgKyB1c2VySWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRlZEF0OiBuZXdFbmRUaW1lIC0gKDI0ICogNjAgKiA2MCAqIDEwMDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChgU2Vzc2lvbiBleHRlbmRlZCBieSAke2V4dGVuZERheXN9IGRheXMhYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFsbFVzZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ludmFsaWQgb3B0aW9uIScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGVsZXRlVXNlclNlc3Npb24odXNlcklkKSB7CiAgICAgICAgaWYgKGNvbmZpcm0oYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2Vzc2lvbiBmb3IgdXNlciAke3VzZXJJZH0/YCkpIHsKICAgICAgICAgICAgZGF0YWJhc2UucmVmKCdzZXNzaW9ucy8nICsgdXNlcklkKS5yZW1vdmUoKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdVc2VyIHNlc3Npb24gZGVsZXRlZCBzdWNjZXNzZnVsbHkhJyk7CiAgICAgICAgICAgICAgICAgICAgbG9hZEFsbFVzZXJzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGV4cG9ydFVzZXJzKCkgewogICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMnKS5vbmNlKCd2YWx1ZScpCiAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gc25hcHNob3QudmFsKCk7CiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25zKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ05vIHVzZXJzIHRvIGV4cG9ydCEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBjc3ZDb250ZW50ID0gIlVzZXIgSUQsUGxhdGZvcm0sVGFyZ2V0LFN0YXJ0IEJhbGFuY2UsQ3VycmVudCBCYWxhbmNlLFRhcmdldCBBbW91bnQsQWNjdXJhY3kgQm9vc3RlcixJbnN1cmFuY2UsU3RhcnQgVGltZVxuIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2Vzc2lvbnMpLmZvckVhY2godXNlcklkID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbnNbdXNlcklkXTsKICAgICAgICAgICAgICAgICAgICBjc3ZDb250ZW50ICs9IGAiJHt1c2VySWR9IiwiJHtzZXNzaW9uLnBsYXRmb3JtIHx8ICcnfSIsIiR7c2Vzc2lvbi50YXJnZXQgfHwgJyd9Iiwke3Nlc3Npb24uc3RhcnRCYWxhbmNlIHx8IDB9LCR7c2Vzc2lvbi5jdXJyZW50QmFsYW5jZSB8fCAwfSwke3Nlc3Npb24udGFyZ2V0QW1vdW50IHx8IDB9LCIke3Nlc3Npb24uYWNjdXJhY3lCb29zdGVyIHx8IGZhbHNlfSIsIiR7c2Vzc2lvbi5pbnN1cmFuY2UgfHwgZmFsc2V9IiwiJHtuZXcgRGF0ZShzZXNzaW9uLnN0YXJ0ZWRBdCB8fCAwKS50b0lTT1N0cmluZygpfSJcbmA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRvd25sb2FkIGxpbmsKICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY3N2Q29udGVudF0sIHsgdHlwZTogJ3RleHQvY3N2JyB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBgdXNlcnNfJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0uY3N2YDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpOwogICAgICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYWxlcnQoJ1VzZXJzIGV4cG9ydGVkIHRvIENTViBzdWNjZXNzZnVsbHkhJyk7CiAgICAgICAgICAgIH0pOwogICAgfQogICAgCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBTVEFUSVNUSUNTID09PT09PT09PT09PT09PT09PT09CiAgICAKICAgIGZ1bmN0aW9uIGxvYWRTdGF0aXN0aWNzKCkgewogICAgICAgIC8vIExvYWQgYWxsIGRhdGEgZm9yIHN0YXRpc3RpY3MKICAgICAgICBQcm9taXNlLmFsbChbCiAgICAgICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMnKS5vbmNlKCd2YWx1ZScpLAogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cycpLm9uY2UoJ3ZhbHVlJyksCiAgICAgICAgICAgIGRhdGFiYXNlLnJlZignY29tcGxldGVkVGFyZ2V0cycpLm9uY2UoJ3ZhbHVlJyksCiAgICAgICAgICAgIGRhdGFiYXNlLnJlZignZmFpbGVkVGFyZ2V0cycpLm9uY2UoJ3ZhbHVlJykKICAgICAgICBdKS50aGVuKChbc2Vzc2lvbnNTbmFwLCBwYXltZW50c1NuYXAsIGNvbXBsZXRlZFNuYXAsIGZhaWxlZFNuYXBdKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gc2Vzc2lvbnNTbmFwLnZhbCgpIHx8IHt9OwogICAgICAgICAgICBjb25zdCBwYXltZW50cyA9IHBheW1lbnRzU25hcC52YWwoKSB8fCB7fTsKICAgICAgICAgICAgY29uc3QgY29tcGxldGVkID0gY29tcGxldGVkU25hcC52YWwoKSB8fCB7fTsKICAgICAgICAgICAgY29uc3QgZmFpbGVkID0gZmFpbGVkU25hcC52YWwoKSB8fCB7fTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCB0b3RhbEVhcm5pbmdzID0gMDsKICAgICAgICAgICAgbGV0IHRvZGF5RWFybmluZ3MgPSAwOwogICAgICAgICAgICBsZXQgd2Vla0Vhcm5pbmdzID0gMDsKICAgICAgICAgICAgbGV0IG1vbnRoRWFybmluZ3MgPSAwOwogICAgICAgICAgICBsZXQgdG90YWxSZWZ1bmRzID0gMDsKICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7CiAgICAgICAgICAgIGxldCB0b3RhbFRpbWUgPSAwOwogICAgICAgICAgICBsZXQgdGFyZ2V0Q291bnQgPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTsKICAgICAgICAgICAgY29uc3Qgd2Vla0FnbyA9IG5ldyBEYXRlKHRvZGF5LmdldFRpbWUoKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgY29uc3QgbW9udGhBZ28gPSBuZXcgRGF0ZSh0b2RheS5nZXRUaW1lKCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGVhcm5pbmdzIGZyb20gcGF5bWVudHMKICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwYXltZW50cykuZm9yRWFjaChwYXltZW50ID0+IHsKICAgICAgICAgICAgICAgIGlmIChwYXltZW50LnN0YXR1cyA9PT0gJ2FwcHJvdmVkJykgewogICAgICAgICAgICAgICAgICAgIHRvdGFsRWFybmluZ3MgKz0gcGF5bWVudC5hbW91bnQgfHwgMDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RGF0ZSA9IG5ldyBEYXRlKHBheW1lbnQudGltZXN0YW1wIHx8IHBheW1lbnQuYXBwcm92ZWRBdCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICBpZiAocGF5bWVudERhdGUgPj0gdG9kYXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG9kYXlFYXJuaW5ncyArPSBwYXltZW50LmFtb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocGF5bWVudERhdGUgPj0gd2Vla0FnbykgewogICAgICAgICAgICAgICAgICAgICAgICB3ZWVrRWFybmluZ3MgKz0gcGF5bWVudC5hbW91bnQgfHwgMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnREYXRlID49IG1vbnRoQWdvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoRWFybmluZ3MgKz0gcGF5bWVudC5hbW91bnQgfHwgMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHJlZnVuZHMgZnJvbSBmYWlsZWQgdGFyZ2V0cwogICAgICAgICAgICBPYmplY3QudmFsdWVzKGZhaWxlZCkuZm9yRWFjaChmYWlsZWRVc2VyID0+IHsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZmFpbGVkVXNlcikuZm9yRWFjaChmYWlsID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbC5yZWZ1bmRBbW91bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSZWZ1bmRzICs9IGZhaWwucmVmdW5kQW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBzdWNjZXNzIHJhdGUgYW5kIGF2ZXJhZ2UgdGltZQogICAgICAgICAgICBPYmplY3QudmFsdWVzKGNvbXBsZXRlZCkuZm9yRWFjaChjb21wbGV0ZWRVc2VyID0+IHsKICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCArPSBPYmplY3Qua2V5cyhjb21wbGV0ZWRVc2VyKS5sZW5ndGg7CiAgICAgICAgICAgICAgICB0YXJnZXRDb3VudCArPSBPYmplY3Qua2V5cyhjb21wbGV0ZWRVc2VyKS5sZW5ndGg7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhmYWlsZWQpLmZvckVhY2goZmFpbGVkVXNlciA9PiB7CiAgICAgICAgICAgICAgICB0YXJnZXRDb3VudCArPSBPYmplY3Qua2V5cyhmYWlsZWRVc2VyKS5sZW5ndGg7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGUgPSB0YXJnZXRDb3VudCA+IDAgPyBNYXRoLnJvdW5kKChzdWNjZXNzQ291bnQgLyB0YXJnZXRDb3VudCkgKiAxMDApIDogMDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0aXN0aWNzIGRpc3BsYXkKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5LWVhcm5pbmdzJykudGV4dENvbnRlbnQgPSBg4oK5JHt0b2RheUVhcm5pbmdzfWA7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWVrLWVhcm5pbmdzJykudGV4dENvbnRlbnQgPSBg4oK5JHt3ZWVrRWFybmluZ3N9YDsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoLWVhcm5pbmdzJykudGV4dENvbnRlbnQgPSBg4oK5JHttb250aEVhcm5pbmdzfWA7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC1lYXJuaW5ncycpLnRleHRDb250ZW50ID0gYOKCuSR7dG90YWxFYXJuaW5nc31gOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWwtcmVmdW5kcycpLnRleHRDb250ZW50ID0gYOKCuSR7dG90YWxSZWZ1bmRzfWA7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWNjZXNzLXJhdGUnKS50ZXh0Q29udGVudCA9IGAke3N1Y2Nlc3NSYXRlfSVgOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXZnLXRpbWUnKS50ZXh0Q29udGVudCA9IGAke01hdGgucm91bmQodG90YWxUaW1lIC8gTWF0aC5tYXgodGFyZ2V0Q291bnQsIDEpKX1tYDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFVwZGF0ZSBjaGFydAogICAgICAgICAgICB1cGRhdGVFYXJuaW5nc0NoYXJ0KHBheW1lbnRzKTsKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdXBkYXRlRWFybmluZ3NDaGFydChwYXltZW50c0RhdGEpIHsKICAgICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWFybmluZ3NDaGFydCcpLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgCiAgICAgICAgLy8gQ2FsY3VsYXRlIGRhaWx5IGVhcm5pbmdzIGZvciBsYXN0IDcgZGF5cwogICAgICAgIGNvbnN0IGRhaWx5RWFybmluZ3MgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMF07CiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgIAogICAgICAgIE9iamVjdC52YWx1ZXMocGF5bWVudHNEYXRhIHx8IHt9KS5mb3JFYWNoKHBheW1lbnQgPT4gewogICAgICAgICAgICBpZiAocGF5bWVudC5zdGF0dXMgPT09ICdhcHByb3ZlZCcgJiYgcGF5bWVudC50aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnREYXRlID0gbmV3IERhdGUocGF5bWVudC50aW1lc3RhbXApOwogICAgICAgICAgICAgICAgY29uc3QgZGF5c0FnbyA9IE1hdGguZmxvb3IoKHRvZGF5IC0gcGF5bWVudERhdGUpIC8gKDI0ICogNjAgKiA2MCAqIDEwMDApKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGRheXNBZ28gPj0gMCAmJiBkYXlzQWdvIDwgNykgewogICAgICAgICAgICAgICAgICAgIGRhaWx5RWFybmluZ3NbNiAtIGRheXNBZ29dICs9IHBheW1lbnQuYW1vdW50IHx8IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBHZXQgZGF5IGxhYmVscwogICAgICAgIGNvbnN0IGRheXMgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRvZGF5LmdldFRpbWUoKSAtIGkgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgICAgZGF5cy5wdXNoKGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1JTicsIHsgd2Vla2RheTogJ3Nob3J0JyB9KSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIERlc3Ryb3kgZXhpc3RpbmcgY2hhcnQgaWYgaXQgZXhpc3RzCiAgICAgICAgaWYgKGVhcm5pbmdzQ2hhcnQpIHsKICAgICAgICAgICAgZWFybmluZ3NDaGFydC5kZXN0cm95KCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBuZXcgY2hhcnQKICAgICAgICBlYXJuaW5nc0NoYXJ0ID0gbmV3IENoYXJ0KGN0eCwgewogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIGxhYmVsczogZGF5cywKICAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRGFpbHkgRWFybmluZ3MgKOKCuSknLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhaWx5RWFybmluZ3MsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjYmMxM2ZlJywKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDE4OCwgMTksIDI1NCwgMC4xKScsCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB0ZW5zaW9uOiAwLjQKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgICAgICAgICBwbHVnaW5zOiB7CiAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNjYWxlczogewogICAgICAgICAgICAgICAgICAgIHk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNhYWEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfigrknICsgdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEpJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB4OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNhYWEnCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEpJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIC8vID09PT09PT09PT09PT09PT09PT09IE1BTlVBTCBFTlRSWSA9PT09PT09PT09PT09PT09PT09PQogICAgCiAgICBmdW5jdGlvbiB1cGRhdGVNYW51YWxUYXJnZXQoKSB7CiAgICAgICAgY29uc3QgdGFyZ2V0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC10YXJnZXQnKTsKICAgICAgICBjb25zdCBzZWxlY3RlZFRhcmdldCA9IHRhcmdldFNlbGVjdC52YWx1ZTsKICAgICAgICAKICAgICAgICBpZiAoIXNlbGVjdGVkVGFyZ2V0IHx8ICF0YXJnZXRDb25maWdzW3NlbGVjdGVkVGFyZ2V0XSkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLXRvdGFsJykudGV4dENvbnRlbnQgPSAn4oK5MCc7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRhcmdldENvbmZpZ3Nbc2VsZWN0ZWRUYXJnZXRdOwogICAgICAgIGxldCB0b3RhbCA9IHRhcmdldERhdGEucHJpY2U7CiAgICAgICAgCiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWwtYWNjdXJhY3knKS5jaGVja2VkKSB7CiAgICAgICAgICAgIHRvdGFsICs9IHRhcmdldERhdGEuYm9vc3RlcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWwtaW5zdXJhbmNlJykuY2hlY2tlZCkgewogICAgICAgICAgICB0b3RhbCArPSB0YXJnZXREYXRhLmluc3VyYW5jZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC10b3RhbCcpLnRleHRDb250ZW50ID0gYOKCuSR7dG90YWx9YDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlTWFudWFsU2Vzc2lvbigpIHsKICAgICAgICBjb25zdCB1c2VySWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLXVzZXItaWQnKS52YWx1ZS50cmltKCkgfHwgZ2VuZXJhdGVVc2VySWQoKTsKICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWwtcGxhdGZvcm0nKS52YWx1ZTsKICAgICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLXRhcmdldCcpLnZhbHVlOwogICAgICAgIGNvbnN0IGFjY3VyYWN5Qm9vc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWwtYWNjdXJhY3knKS5jaGVja2VkOwogICAgICAgIGNvbnN0IGluc3VyYW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW51YWwtaW5zdXJhbmNlJykuY2hlY2tlZDsKICAgICAgICAKICAgICAgICAvLyBWYWxpZGF0aW9uCiAgICAgICAgaWYgKCFwbGF0Zm9ybSkgewogICAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIHBsYXRmb3JtIScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghdGFyZ2V0KSB7CiAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgdGFyZ2V0IScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB0YXJnZXRDb25maWdzW3RhcmdldF07CiAgICAgICAgaWYgKCF0YXJnZXREYXRhKSB7CiAgICAgICAgICAgIGFsZXJ0KCdJbnZhbGlkIHRhcmdldCBzZWxlY3RlZCEnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSAnc2Vzc2lvbl8nICsgRGF0ZS5ub3coKTsKICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHsKICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsCiAgICAgICAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybSwKICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsCiAgICAgICAgICAgIHN0YXJ0QmFsYW5jZTogdGFyZ2V0RGF0YS5zdGFydCwKICAgICAgICAgICAgY3VycmVudEJhbGFuY2U6IHRhcmdldERhdGEuc3RhcnQsCiAgICAgICAgICAgIHRhcmdldEFtb3VudDogdGFyZ2V0RGF0YS50YXJnZXQsCiAgICAgICAgICAgIGFjY3VyYWN5Qm9vc3RlcjogYWNjdXJhY3lCb29zdGVyLAogICAgICAgICAgICBpbnN1cmFuY2U6IGluc3VyYW5jZSwKICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJywKICAgICAgICAgICAgc3RhcnRlZEF0OiBEYXRlLm5vdygpLAogICAgICAgICAgICBsYXN0QWN0aXZlOiBEYXRlLm5vdygpLAogICAgICAgICAgICBpc01hbnVhbDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgZGF0YWJhc2UucmVmKCdzZXNzaW9ucy8nICsgdXNlcklkKS5zZXQoc2Vzc2lvbkRhdGEpCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIEFsc28gY3JlYXRlIHBheW1lbnQgcmVjb3JkCiAgICAgICAgICAgICAgICBsZXQgdG90YWxBbW91bnQgPSB0YXJnZXREYXRhLnByaWNlOwogICAgICAgICAgICAgICAgaWYgKGFjY3VyYWN5Qm9vc3RlcikgdG90YWxBbW91bnQgKz0gdGFyZ2V0RGF0YS5ib29zdGVyOwogICAgICAgICAgICAgICAgaWYgKGluc3VyYW5jZSkgdG90YWxBbW91bnQgKz0gdGFyZ2V0RGF0YS5pbnN1cmFuY2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRJZCA9ICdtYW51YWxfJyArIERhdGUubm93KCk7CiAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm0sCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiB0b3RhbEFtb3VudCwKICAgICAgICAgICAgICAgICAgICBiYXNlUHJpY2U6IHRhcmdldERhdGEucHJpY2UsCiAgICAgICAgICAgICAgICAgICAgYWNjdXJhY3lCb29zdGVyOiBhY2N1cmFjeUJvb3N0ZXIsCiAgICAgICAgICAgICAgICAgICAgaW5zdXJhbmNlOiBpbnN1cmFuY2UsCiAgICAgICAgICAgICAgICAgICAgYm9vc3RlclByaWNlOiBhY2N1cmFjeUJvb3N0ZXIgPyB0YXJnZXREYXRhLmJvb3N0ZXIgOiAwLAogICAgICAgICAgICAgICAgICAgIGluc3VyYW5jZVByaWNlOiBpbnN1cmFuY2UgPyB0YXJnZXREYXRhLmluc3VyYW5jZSA6IDAsCiAgICAgICAgICAgICAgICAgICAgdXRyOiAnTUFOVUFMX0VOVFJZJywKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsCiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkQXQ6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICAgICAgaXNNYW51YWw6IHRydWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZigncGF5bWVudFJlcXVlc3RzLycgKyBwYXltZW50SWQpLnNldChwYXltZW50RGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGBTZXNzaW9uIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IVxuXG5Vc2VyIElEOiAke3VzZXJJZH1cblBsYXRmb3JtOiAke3BsYXRmb3JtfVxuVGFyZ2V0OiAke3RhcmdldH1cbkJhbGFuY2U6IOKCuSR7dGFyZ2V0RGF0YS5zdGFydH1cblxuVXNlciBjYW4gbm93IGFjY2VzcyB0aGUgcHJlZGljdGlvbiBwYWdlLmApOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgZm9ybQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLXVzZXItaWQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLXBsYXRmb3JtJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC10YXJnZXQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLWFjY3VyYWN5JykuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLWluc3VyYW5jZScpLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC10b3RhbCcpLnRleHRDb250ZW50ID0gJ+KCuTAnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgbWFudWFsIHNlc3Npb246JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIGNyZWF0aW5nIHNlc3Npb24uIFBsZWFzZSB0cnkgYWdhaW4uJyk7CiAgICAgICAgICAgIH0pOwogICAgfQogICAgCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBSRVBPUlRTID09PT09PT09PT09PT09PT09PT09CiAgICAKICAgIGZ1bmN0aW9uIGdlbmVyYXRlRGFpbHlSZXBvcnQoKSB7CiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkuZ2V0VGltZSgpICsgMjQgKiA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgCiAgICAgICAgZ2VuZXJhdGVSZXBvcnQodG9kYXksIHRvbW9ycm93LCAnRGFpbHkgUmVwb3J0Jyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdlbmVyYXRlV2Vla2x5UmVwb3J0KCkgewogICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTsKICAgICAgICBjb25zdCB3ZWVrQWdvID0gbmV3IERhdGUodG9kYXkuZ2V0VGltZSgpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOwogICAgICAgIAogICAgICAgIGdlbmVyYXRlUmVwb3J0KHdlZWtBZ28sIHRvZGF5LCAnV2Vla2x5IFJlcG9ydCcpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRobHlSZXBvcnQoKSB7CiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgIGNvbnN0IG1vbnRoQWdvID0gbmV3IERhdGUodG9kYXkuZ2V0VGltZSgpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAKICAgICAgICBnZW5lcmF0ZVJlcG9ydChtb250aEFnbywgdG9kYXksICdNb250aGx5IFJlcG9ydCcpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZW5lcmF0ZVJlcG9ydChzdGFydERhdGUsIGVuZERhdGUsIHRpdGxlKSB7CiAgICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ3BheW1lbnRSZXF1ZXN0cycpLm9uY2UoJ3ZhbHVlJyksCiAgICAgICAgICAgIGRhdGFiYXNlLnJlZignc2Vzc2lvbnMnKS5vbmNlKCd2YWx1ZScpLAogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ2NvbXBsZXRlZFRhcmdldHMnKS5vbmNlKCd2YWx1ZScpLAogICAgICAgICAgICBkYXRhYmFzZS5yZWYoJ2ZhaWxlZFRhcmdldHMnKS5vbmNlKCd2YWx1ZScpCiAgICAgICAgXSkudGhlbigoW3BheW1lbnRzU25hcCwgc2Vzc2lvbnNTbmFwLCBjb21wbGV0ZWRTbmFwLCBmYWlsZWRTbmFwXSkgPT4gewogICAgICAgICAgICBjb25zdCBwYXltZW50cyA9IHBheW1lbnRzU25hcC52YWwoKSB8fCB7fTsKICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBzZXNzaW9uc1NuYXAudmFsKCkgfHwge307CiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9IGNvbXBsZXRlZFNuYXAudmFsKCkgfHwge307CiAgICAgICAgICAgIGNvbnN0IGZhaWxlZCA9IGZhaWxlZFNuYXAudmFsKCkgfHwge307CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgdG90YWxFYXJuaW5ncyA9IDA7CiAgICAgICAgICAgIGxldCB0b3RhbFJlZnVuZHMgPSAwOwogICAgICAgICAgICBsZXQgbmV3VXNlcnMgPSAwOwogICAgICAgICAgICBsZXQgYWN0aXZlU2Vzc2lvbnMgPSAwOwogICAgICAgICAgICBsZXQgY29tcGxldGVkVGFyZ2V0cyA9IDA7CiAgICAgICAgICAgIGxldCBmYWlsZWRUYXJnZXRzID0gMDsKICAgICAgICAgICAgbGV0IHN1Y2Nlc3NSYXRlID0gMDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEZpbHRlciBkYXRhIGJ5IGRhdGUgcmFuZ2UKICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwYXltZW50cykuZm9yRWFjaChwYXltZW50ID0+IHsKICAgICAgICAgICAgICAgIGlmIChwYXltZW50LnN0YXR1cyA9PT0gJ2FwcHJvdmVkJyAmJiBwYXltZW50LmFwcHJvdmVkQXQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RGF0ZSA9IG5ldyBEYXRlKHBheW1lbnQuYXBwcm92ZWRBdCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnREYXRlID49IHN0YXJ0RGF0ZSAmJiBwYXltZW50RGF0ZSA8IGVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFYXJuaW5ncyArPSBwYXltZW50LmFtb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBPYmplY3QudmFsdWVzKHNlc3Npb25zKS5mb3JFYWNoKHNlc3Npb24gPT4gewogICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGUgPSBuZXcgRGF0ZShzZXNzaW9uLnN0YXJ0ZWRBdCB8fCAwKTsKICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0ZSA+PSBzdGFydERhdGUgJiYgc2Vzc2lvbkRhdGUgPCBlbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3VXNlcnMrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmVTZXNzaW9ucysrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoY29tcGxldGVkKS5mb3JFYWNoKHVzZXJUYXJnZXRzID0+IHsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModXNlclRhcmdldHMpLmZvckVhY2godGFyZ2V0ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKHRhcmdldC50aW1lc3RhbXAgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25EYXRlID49IHN0YXJ0RGF0ZSAmJiBjb21wbGV0aW9uRGF0ZSA8IGVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVGFyZ2V0cysrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZmFpbGVkKS5mb3JFYWNoKHVzZXJUYXJnZXRzID0+IHsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModXNlclRhcmdldHMpLmZvckVhY2godGFyZ2V0ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWlsdXJlRGF0ZSA9IG5ldyBEYXRlKHRhcmdldC50aW1lc3RhbXAgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGZhaWx1cmVEYXRlID49IHN0YXJ0RGF0ZSAmJiBmYWlsdXJlRGF0ZSA8IGVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmFpbGVkVGFyZ2V0cysrOwogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFJlZnVuZHMgKz0gdGFyZ2V0LnJlZnVuZEFtb3VudCB8fCAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHRvdGFsVGFyZ2V0cyA9IGNvbXBsZXRlZFRhcmdldHMgKyBmYWlsZWRUYXJnZXRzOwogICAgICAgICAgICBzdWNjZXNzUmF0ZSA9IHRvdGFsVGFyZ2V0cyA+IDAgPyBNYXRoLnJvdW5kKChjb21wbGV0ZWRUYXJnZXRzIC8gdG90YWxUYXJnZXRzKSAqIDEwMCkgOiAwOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gR2VuZXJhdGUgcmVwb3J0IEhUTUwKICAgICAgICAgICAgY29uc3QgcmVwb3J0SFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG1hcmdpbjogMjBweCAwOyI+CiAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogdmFyKC0tZ29sZCk7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij4ke3RpdGxlfSAtICR7c3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfSB0byAke2VuZERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9PC9oMz4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0cy1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5Ub3RhbCBFYXJuaW5nczwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSI+4oK5JHt0b3RhbEVhcm5pbmdzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1ib3giPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+VG90YWwgUmVmdW5kczwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC12YWx1ZSI+4oK5JHt0b3RhbFJlZnVuZHN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5OZXQgUHJvZml0PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LXZhbHVlIiBzdHlsZT0iY29sb3I6ICR7dG90YWxFYXJuaW5ncyAtIHRvdGFsUmVmdW5kcyA+PSAwID8gJ3ZhcigtLWdyZWVuKScgOiAndmFyKC0tcmVkKSd9Ij7igrkke3RvdGFsRWFybmluZ3MgLSB0b3RhbFJlZnVuZHN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5OZXcgVXNlcnM8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiPiR7bmV3VXNlcnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5BY3RpdmUgU2Vzc2lvbnM8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiPiR7YWN0aXZlU2Vzc2lvbnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWJveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5TdWNjZXNzIFJhdGU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtdmFsdWUiPiR7c3VjY2Vzc1JhdGV9JTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0iY29sb3I6IHZhcigtLXRlYWwpOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+RGV0YWlsZWQgQnJlYWtkb3duOjwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC45cmVtOyBjb2xvcjogI2FhYTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5Db21wbGV0ZWQgVGFyZ2V0czogJHtjb21wbGV0ZWRUYXJnZXRzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5GYWlsZWQgVGFyZ2V0czogJHtmYWlsZWRUYXJnZXRzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5Ub3RhbCBUYXJnZXRzOiAke3RvdGFsVGFyZ2V0c308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+R3Jvc3MgRWFybmluZ3M6IOKCuSR7dG90YWxFYXJuaW5nc308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+UmVmdW5kcyBQYWlkOiDigrkke3RvdGFsUmVmdW5kc308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TmV0IEVhcm5pbmdzOiDigrkke3RvdGFsRWFybmluZ3MgLSB0b3RhbFJlZnVuZHN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0LWNvbnRlbnQnKS5pbm5lckhUTUwgPSByZXBvcnRIVE1MOwogICAgICAgIH0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBleHBvcnRSZXBvcnQoKSB7CiAgICAgICAgY29uc3QgcmVwb3J0Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnQtY29udGVudCcpLnRleHRDb250ZW50OwogICAgICAgIAogICAgICAgIGlmICghcmVwb3J0Q29udGVudC50cmltKCkpIHsKICAgICAgICAgICAgYWxlcnQoJ0dlbmVyYXRlIGEgcmVwb3J0IGZpcnN0IScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVwb3J0Q29udGVudF0sIHsgdHlwZTogJ3RleHQvcGxhaW4nIH0pOwogICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSBgcmVwb3J0XyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19LnR4dGA7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICAgIAogICAgICAgIGFsZXJ0KCdSZXBvcnQgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5IScpOwogICAgfQogICAgCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBPUklHSU5BTCBBUFBMSUNBVElPTiBGVU5DVElPTlMgPT09PT09PT09PT09PT09PT09PT0KICAgIAogICAgLy8gTmF2aWdhdGlvbiBmdW5jdGlvbnMKICAgIGZ1bmN0aW9uIG9wZW5UYXJnZXRQYWdlKHBsYXRmb3JtKSB7CiAgICAgICAgY3VycmVudFBsYXRmb3JtID0gcGxhdGZvcm07CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhbmRpbmctcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhcmdldC1wYWdlJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ29CYWNrVG9QbGF0Zm9ybSgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFyZ2V0LXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5kaW5nLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZWxlY3RUYXJnZXQodGFyZ2V0LCBwcmljZSkgewogICAgICAgIGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7CiAgICAgICAgY3VycmVudFByaWNlID0gcHJpY2U7CiAgICAgICAgCiAgICAgICAgLy8gR2V0IGFkZC1vbiBwcmljZXMgZm9yIHRoaXMgdGFyZ2V0CiAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRhcmdldENvbmZpZ3NbdGFyZ2V0XTsKICAgICAgICBhY2N1cmFjeUJvb3N0ZXJQcmljZSA9IHRhcmdldERhdGEuYm9vc3RlcjsKICAgICAgICBpbnN1cmFuY2VQcmljZSA9IHRhcmdldERhdGEuaW5zdXJhbmNlOwogICAgICAgIAogICAgICAgIC8vIFJlc2V0IGFkZC1vbnMgc2VsZWN0aW9uCiAgICAgICAgYWNjdXJhY3lCb29zdGVyU2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICBpbnN1cmFuY2VTZWxlY3RlZCA9IGZhbHNlOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZSBVSQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZC10YXJnZXQtc3VtbWFyeScpLnRleHRDb250ZW50ID0gdGFyZ2V0LnJlcGxhY2UoJy0nLCAnIFRvICcpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2N1cmFjeS1ib29zdGVyLXByaWNlJykudGV4dENvbnRlbnQgPSBg4oK5JHthY2N1cmFjeUJvb3N0ZXJQcmljZX1gOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN1cmFuY2UtcHJpY2UnKS50ZXh0Q29udGVudCA9IGDigrkke2luc3VyYW5jZVByaWNlfWA7CiAgICAgICAgCiAgICAgICAgLy8gUmVzZXQgdG9nZ2xlIGJ1dHRvbnMKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjdXJhY3ktYm9vc3Rlci10b2dnbGUnKS5jbGFzc05hbWUgPSAndG9nZ2xlLWJ0bic7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY3VyYWN5LWJvb3N0ZXItdG9nZ2xlJykuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2N1cmFjeS1ib29zdGVyLWl0ZW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN1cmFuY2UtdG9nZ2xlJykuY2xhc3NOYW1lID0gJ3RvZ2dsZS1idG4nOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN1cmFuY2UtdG9nZ2xlJykuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnN1cmFuY2UtaXRlbScpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHRvdGFsIGFtb3VudAogICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhcmdldC1wYWdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkb25zLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnb0JhY2tUb1RhcmdldCgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkb25zLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXQtcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRvZ2dsZUFjY3VyYWN5Qm9vc3RlcigpIHsKICAgICAgICBhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCA9ICFhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZDsKICAgICAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjdXJhY3ktYm9vc3Rlci10b2dnbGUnKTsKICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY3VyYWN5LWJvb3N0ZXItaXRlbScpOwogICAgICAgIAogICAgICAgIGlmIChhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCkgewogICAgICAgICAgICB0b2dnbGVCdG4uY2xhc3NOYW1lID0gJ3RvZ2dsZS1idG4gYWN0aXZlJzsKICAgICAgICAgICAgdG9nZ2xlQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWNoZWNrIj48L2k+IEFEREVEJzsKICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvZ2dsZUJ0bi5jbGFzc05hbWUgPSAndG9nZ2xlLWJ0bic7CiAgICAgICAgICAgIHRvZ2dsZUJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+IEFERCc7CiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsKICAgICAgICB9CiAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2tpcEFjY3VyYWN5Qm9vc3RlcigpIHsKICAgICAgICBhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCA9IGZhbHNlOwogICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2N1cmFjeS1ib29zdGVyLXRvZ2dsZScpOwogICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjdXJhY3ktYm9vc3Rlci1pdGVtJyk7CiAgICAgICAgdG9nZ2xlQnRuLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnRuJzsKICAgICAgICB0b2dnbGVCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQnOwogICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsKICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0b2dnbGVJbnN1cmFuY2UoKSB7CiAgICAgICAgaW5zdXJhbmNlU2VsZWN0ZWQgPSAhaW5zdXJhbmNlU2VsZWN0ZWQ7CiAgICAgICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3VyYW5jZS10b2dnbGUnKTsKICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3VyYW5jZS1pdGVtJyk7CiAgICAgICAgCiAgICAgICAgaWYgKGluc3VyYW5jZVNlbGVjdGVkKSB7CiAgICAgICAgICAgIHRvZ2dsZUJ0bi5jbGFzc05hbWUgPSAndG9nZ2xlLWJ0biBhY3RpdmUnOwogICAgICAgICAgICB0b2dnbGVCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtY2hlY2siPjwvaT4gQURERUQnOwogICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9nZ2xlQnRuLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnRuJzsKICAgICAgICAgICAgdG9nZ2xlQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4gQUREJzsKICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOwogICAgICAgIH0KICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBza2lwSW5zdXJhbmNlKCkgewogICAgICAgIGluc3VyYW5jZVNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3VyYW5jZS10b2dnbGUnKTsKICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3VyYW5jZS1pdGVtJyk7CiAgICAgICAgdG9nZ2xlQnRuLmNsYXNzTmFtZSA9ICd0b2dnbGUtYnRuJzsKICAgICAgICB0b2dnbGVCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBBREQnOwogICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsKICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB1cGRhdGVUb3RhbEFtb3VudCgpIHsKICAgICAgICB0b3RhbFBheWFibGVBbW91bnQgPSBjdXJyZW50UHJpY2U7CiAgICAgICAgaWYgKGFjY3VyYWN5Qm9vc3RlclNlbGVjdGVkKSB7CiAgICAgICAgICAgIHRvdGFsUGF5YWJsZUFtb3VudCArPSBhY2N1cmFjeUJvb3N0ZXJQcmljZTsKICAgICAgICB9CiAgICAgICAgaWYgKGluc3VyYW5jZVNlbGVjdGVkKSB7CiAgICAgICAgICAgIHRvdGFsUGF5YWJsZUFtb3VudCArPSBpbnN1cmFuY2VQcmljZTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsLXBheWFibGUtYW1vdW50JykudGV4dENvbnRlbnQgPSBg4oK5JHt0b3RhbFBheWFibGVBbW91bnR9YDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcHJvY2VlZFRvUGF5bWVudCgpIHsKICAgICAgICAvLyBVcGRhdGUgcGF5bWVudCBwYWdlIHdpdGggc2VsZWN0ZWQgYWRkLW9ucwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZC10YXJnZXQtZGlzcGxheScpLnRleHRDb250ZW50ID0gY3VycmVudFRhcmdldC5yZXBsYWNlKCctJywgJyBUbyAnKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudC1hbW91bnQtZGlzcGxheScpLnRleHRDb250ZW50ID0gYFBheSDigrkke3RvdGFsUGF5YWJsZUFtb3VudH1gOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZSBhZGQtb25zIHN1bW1hcnkKICAgICAgICBjb25zdCBhZGRvbnNTdW1tYXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZG9ucy1zdW1tYXJ5LWRpc3BsYXknKTsKICAgICAgICBsZXQgc3VtbWFyeUhUTUwgPSAnPGRpdiBzdHlsZT0iY29sb3I6IHZhcigtLXRlYWwpOyBtYXJnaW4tYm90dG9tOiA4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyI+U0VMRUNURUQgQURELU9OUzo8L2Rpdj4nOwogICAgICAgIAogICAgICAgIGlmIChhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCB8fCBpbnN1cmFuY2VTZWxlY3RlZCkgewogICAgICAgICAgICBpZiAoYWNjdXJhY3lCb29zdGVyU2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgIHN1bW1hcnlIVE1MICs9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhZGRvbi1zdW1tYXJ5LWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj45MCUgQWNjdXJhY3kgQm9vc3Rlcjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiB2YXIoLS1nb2xkKTsiPuKCuSR7YWNjdXJhY3lCb29zdGVyUHJpY2V9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGluc3VyYW5jZVNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICBzdW1tYXJ5SFRNTCArPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRkb24tc3VtbWFyeS1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+TG9zcyBQcm90ZWN0aW9uIEluc3VyYW5jZTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiB2YXIoLS1nb2xkKTsiPuKCuSR7aW5zdXJhbmNlUHJpY2V9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdW1tYXJ5SFRNTCArPSAnPGRpdiBzdHlsZT0iY29sb3I6ICNhYWE7IGZvbnQtc3R5bGU6IGl0YWxpYzsiPk5vIGFkZC1vbnMgc2VsZWN0ZWQ8L2Rpdj4nOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBhZGRvbnNTdW1tYXJ5LmlubmVySFRNTCA9IHN1bW1hcnlIVE1MOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRvbnMtcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheW1lbnQtcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdvQmFja1RvQWRkb25zKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50LXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRvbnMtcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIG9wZW5TdXBwb3J0KCkgewogICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL3QubWUvUHJlZGljdDQ1MCcsICdfYmxhbmsnKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc3VibWl0UGF5bWVudCgpIHsKICAgICAgICBjb25zdCB1dHIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXRyLWlucHV0JykudmFsdWUudHJpbSgpOwogICAgICAgIGlmICghdXRyIHx8IHV0ci5sZW5ndGggPCAxMCkgewogICAgICAgICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgVVRSIG51bWJlciAobWluaW11bSAxMCBjaGFyYWN0ZXJzKScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHBheW1lbnRSZXF1ZXN0SWQgPSAncGF5cmVxXycgKyBEYXRlLm5vdygpOwogICAgICAgIGNvbnN0IHBheW1lbnREYXRhID0gewogICAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICAgICAgcGxhdGZvcm06IGN1cnJlbnRQbGF0Zm9ybSwKICAgICAgICAgICAgdGFyZ2V0OiBjdXJyZW50VGFyZ2V0LAogICAgICAgICAgICBhbW91bnQ6IHRvdGFsUGF5YWJsZUFtb3VudCwKICAgICAgICAgICAgYmFzZVByaWNlOiBjdXJyZW50UHJpY2UsCiAgICAgICAgICAgIGFjY3VyYWN5Qm9vc3RlcjogYWNjdXJhY3lCb29zdGVyU2VsZWN0ZWQsCiAgICAgICAgICAgIGluc3VyYW5jZTogaW5zdXJhbmNlU2VsZWN0ZWQsCiAgICAgICAgICAgIGJvb3N0ZXJQcmljZTogYWNjdXJhY3lCb29zdGVyU2VsZWN0ZWQgPyBhY2N1cmFjeUJvb3N0ZXJQcmljZSA6IDAsCiAgICAgICAgICAgIGluc3VyYW5jZVByaWNlOiBpbnN1cmFuY2VTZWxlY3RlZCA/IGluc3VyYW5jZVByaWNlIDogMCwKICAgICAgICAgICAgdXRyOiB1dHIsCiAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLAogICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkKICAgICAgICB9OwogICAgICAgIAogICAgICAgIGRhdGFiYXNlLnJlZigncGF5bWVudFJlcXVlc3RzLycgKyBwYXltZW50UmVxdWVzdElkKS5zZXQocGF5bWVudERhdGEpCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQYXltZW50IHJlcXVlc3Qgc3VibWl0dGVkISBQbGVhc2Ugd2FpdCBmb3IgYWRtaW4gYXBwcm92YWwgKDItNSBtaW51dGVzKS4nKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1dHItaW5wdXQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgY2hlY2tQYXltZW50QXBwcm92YWwoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BheW1lbnQgc3VibWlzc2lvbiBlcnJvcjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgnRXJyb3Igc3VibWl0dGluZyBwYXltZW50LiBQbGVhc2UgdHJ5IGFnYWluLicpOwogICAgICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hlY2tQYXltZW50QXBwcm92YWwoKSB7CiAgICAgICAgY29uc3QgY2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgZGF0YWJhc2UucmVmKCdwYXltZW50UmVxdWVzdHMvJyArIHBheW1lbnRSZXF1ZXN0SWQpLm9uY2UoJ3ZhbHVlJykKICAgICAgICAgICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc25hcHNob3QudmFsKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QgJiYgcmVxdWVzdC5zdGF0dXMgPT09ICdhcHByb3ZlZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQcmVkaWN0aW9uU2Vzc2lvbigpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVxdWVzdCAmJiByZXF1ZXN0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnUGF5bWVudCByZWplY3RlZC4gUGxlYXNlIGNvbnRhY3QgY3VzdG9tZXIgc3VwcG9ydC4nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LCAxMDAwMCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHN0YXJ0UHJlZGljdGlvblNlc3Npb24oKSB7CiAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRhcmdldENvbmZpZ3NbY3VycmVudFRhcmdldF07CiAgICAgICAgY3VycmVudEJhbGFuY2UgPSB0YXJnZXREYXRhLnN0YXJ0OwogICAgICAgIHRhcmdldE1heCA9IHRhcmdldERhdGEudGFyZ2V0OwogICAgICAgIG9yaWdpbmFsQmFsYW5jZUZvckN5Y2xlID0gY3VycmVudEJhbGFuY2U7CiAgICAgICAgY3VycmVudExldmVsID0gMTsKICAgICAgICBjdXJyZW50UHJlZGljdGlvbk1vZGUgPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gIlNJWkUiIDogIkNPTE9SIjsKICAgICAgICBsYXN0QmV0V29uID0gdHJ1ZTsKICAgICAgICBhbmFseXNpc1dpbmRvd1NpemUgPSAxMDsKICAgICAgICBhbGxSZXN1bHRzID0gW107CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIFVJCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtdGFyZ2V0LWdvYWwnKS50ZXh0Q29udGVudCA9IGBUYXJnZXQ6ICR7Y3VycmVudFRhcmdldC5yZXBsYWNlKCctJywgJyBUbyAnKX1gOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LWJhbGFuY2UnKS50ZXh0Q29udGVudCA9IGDigrkke2N1cnJlbnRCYWxhbmNlfWA7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIGFkZC1vbnMgYmFkZ2VzCiAgICAgICAgY29uc3QgYmFkZ2VzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZG9ucy1iYWRnZXMnKTsKICAgICAgICBsZXQgYmFkZ2VzSFRNTCA9ICcnOwogICAgICAgIGlmIChhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCkgewogICAgICAgICAgICBiYWRnZXNIVE1MICs9ICc8ZGl2IGNsYXNzPSJiYWRnZSBhY2N1cmFjeS1iYWRnZSI+PGkgY2xhc3M9ImZhcyBmYS1ib2x0Ij48L2k+IDkwJSBBQ0NVUkFDWTwvZGl2Pic7CiAgICAgICAgfQogICAgICAgIGlmIChpbnN1cmFuY2VTZWxlY3RlZCkgewogICAgICAgICAgICBiYWRnZXNIVE1MICs9ICc8ZGl2IGNsYXNzPSJiYWRnZSBpbnN1cmFuY2UtYmFkZ2UiPjxpIGNsYXNzPSJmYXMgZmEtc2hpZWxkLWFsdCI+PC9pPiBJTlNVUkVEPC9kaXY+JzsKICAgICAgICB9CiAgICAgICAgYmFkZ2VzQ29udGFpbmVyLmlubmVySFRNTCA9IGJhZGdlc0hUTUw7CiAgICAgICAgCiAgICAgICAgdXBkYXRlQmV0QW1vdW50cygpOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50LXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVkaWN0aW9uLXBhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICBzdGFydFByZWRpY3RvcigpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnb1RvVGFyZ2V0U2VsZWN0aW9uKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWNjZXNzLXBvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFpbHVyZS1wb3B1cCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWRpY3Rpb24tcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhcmdldC1wYWdlJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIH0KICAgIAogICAgLy8gRklYRUQgQkVUIEFNT1VOVCBDQUxDVUxBVElPTgogICAgZnVuY3Rpb24gdXBkYXRlQmV0QW1vdW50cygpIHsKICAgICAgICAvLyBDYWxjdWxhdGUgYmV0cyBiYXNlZCBvbiBPUklHSU5BTCBiYWxhbmNlIGZvciB0aGUgY3ljbGUgKG5vdCBjdXJyZW50IGJhbGFuY2UpCiAgICAgICAgY29uc3QgbGV2ZWwxQW1vdW50ID0gTWF0aC5mbG9vcihvcmlnaW5hbEJhbGFuY2VGb3JDeWNsZSAqIDAuMTUpOwogICAgICAgIGNvbnN0IGxldmVsMkFtb3VudCA9IE1hdGguZmxvb3Iob3JpZ2luYWxCYWxhbmNlRm9yQ3ljbGUgKiAwLjMwKTsKICAgICAgICBjb25zdCBsZXZlbDNBbW91bnQgPSBvcmlnaW5hbEJhbGFuY2VGb3JDeWNsZSAtIGxldmVsMUFtb3VudCAtIGxldmVsMkFtb3VudDsKICAgICAgICAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtMS1hbW91bnQnKS50ZXh0Q29udGVudCA9IGDigrkke2xldmVsMUFtb3VudH1gOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC0yLWFtb3VudCcpLnRleHRDb250ZW50ID0gYOKCuSR7bGV2ZWwyQW1vdW50fWA7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLTMtYW1vdW50JykudGV4dENvbnRlbnQgPSBg4oK5JHtsZXZlbDNBbW91bnR9YDsKICAgICAgICAKICAgICAgICAvLyBTZXQgY3VycmVudCBiZXQgYW1vdW50IGJhc2VkIG9uIGxldmVsCiAgICAgICAgaWYgKGN1cnJlbnRMZXZlbCA9PT0gMSkgY3VycmVudEJldEFtb3VudCA9IGxldmVsMUFtb3VudDsKICAgICAgICBpZiAoY3VycmVudExldmVsID09PSAyKSBjdXJyZW50QmV0QW1vdW50ID0gbGV2ZWwyQW1vdW50OwogICAgICAgIGlmIChjdXJyZW50TGV2ZWwgPT09IDMpIGN1cnJlbnRCZXRBbW91bnQgPSBsZXZlbDNBbW91bnQ7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JldC1hbW91bnQtZGlzcGxheScpLnRleHRDb250ZW50ID0gYEJldCBBbW91bnQ6IOKCuSR7Y3VycmVudEJldEFtb3VudH1gOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZSBsZXZlbCBoaWdobGlnaHRzCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsLTEnKS5jbGFzc05hbWUgPSBjdXJyZW50TGV2ZWwgPT09IDEgPyAnbGV2ZWwtYm94IGxldmVsLWFjdGl2ZScgOiAnbGV2ZWwtYm94JzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwtMicpLmNsYXNzTmFtZSA9IGN1cnJlbnRMZXZlbCA9PT0gMiA/ICdsZXZlbC1ib3ggbGV2ZWwtYWN0aXZlJyA6ICdsZXZlbC1ib3gnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbC0zJykuY2xhc3NOYW1lID0gY3VycmVudExldmVsID09PSAzID8gJ2xldmVsLWJveCBsZXZlbC1hY3RpdmUnIDogJ2xldmVsLWJveCc7CiAgICB9CiAgICAKICAgIC8vIFVQREFURUQ6IE9QUE9TSVRFIFBSRURJQ1RJT04gTE9HSUMgKEZyb20gQW50aS1NYW5pcHVsYXRpb24gUHJlZGljdG9yKQogICAgZnVuY3Rpb24gYW5hbHl6ZVBhdHRlcm5zKHJlc3VsdHMsIHR5cGUpIHsKICAgICAgICBjb25zdCByZWNlbnQgPSByZXN1bHRzLnNsaWNlKDAsIGFuYWx5c2lzV2luZG93U2l6ZSk7CiAgICAgICAgY29uc3QgZGF0YUFyciA9IHJlY2VudC5tYXAociA9PiB0eXBlID09PSAnU0laRScgPyByLnNpemUgOiByLmNvbG9yKTsKICAgICAgICAKICAgICAgICAvLyBDYWxjdWxhdGUgc3RyZWFrCiAgICAgICAgbGV0IHN0cmVhayA9IDE7CiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGFBcnIubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICAgIGlmKGRhdGFBcnJbaV0gPT09IGRhdGFBcnJbaSsxXSkgc3RyZWFrKys7CiAgICAgICAgICAgIGVsc2UgYnJlYWs7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxldCBpbnRlcm5hbFByZWRpY3Rpb24gPSAiIjsgLy8gV2hhdCB0aGUgc3lzdGVtIGNhbGN1bGF0ZXMKICAgICAgICBsZXQgbG9naWNOYW1lID0gIlJhbmRvbSBNaXgiOwogICAgICAgIAogICAgICAgIC8vIEFOVEktTUFOSVBVTEFUSU9OIExPR0lDIChmcm9tIHNlY29uZCBmaWxlKQogICAgICAgIGlmICghbGFzdEJldFdvbikgewogICAgICAgICAgICAvLyBJZiBsYXN0IGJldCB3YXMgbG9zdAogICAgICAgICAgICAvLyBBbnRpLU1hbmlwdWxhdGlvbiBBY3RpdmU6IFRyeSB0byByZXZlcnNlIHRoZSBwYXR0ZXJuCiAgICAgICAgICAgIGludGVybmFsUHJlZGljdGlvbiA9IChNYXRoLnJhbmRvbSgpID4gMC4zKSA/IAogICAgICAgICAgICAgICAgKGRhdGFBcnJbMF0gPT09ICh0eXBlID09PSAnU0laRScgPyAnQklHJyA6ICdSRUQnKSA/IAogICAgICAgICAgICAgICAgICAgICh0eXBlID09PSAnU0laRScgPyAnU01BTEwnIDogJ0dSRUVOJykgOiAKICAgICAgICAgICAgICAgICAgICAodHlwZSA9PT0gJ1NJWkUnID8gJ0JJRycgOiAnUkVEJykpIDogCiAgICAgICAgICAgICAgICBkYXRhQXJyWzBdOwogICAgICAgICAgICBsb2dpY05hbWUgPSAiQW50aS1NYW5pcHVsYXRpb24gQWN0aXZlIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBOb3JtYWwgUGF0dGVybiBMb2dpYwogICAgICAgICAgICBpZiAoc3RyZWFrID49IDMpIHsKICAgICAgICAgICAgICAgIGludGVybmFsUHJlZGljdGlvbiA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyBkYXRhQXJyWzBdIDogKGRhdGFBcnJbMF0gPT09ICdCSUcnID8gJ1NNQUxMJyA6ICdCSUcnKTsKICAgICAgICAgICAgICAgIGxvZ2ljTmFtZSA9ICJQYXR0ZXJuOiAiICsgc3RyZWFrICsgIiBTdHJlYWsgVHJlbmQgQW5hbHlzaXMuIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGludGVybmFsUHJlZGljdGlvbiA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAKICAgICAgICAgICAgICAgICAgICAodHlwZSA9PT0gJ1NJWkUnID8gJ0JJRycgOiAnUkVEJykgOiAKICAgICAgICAgICAgICAgICAgICAodHlwZSA9PT0gJ1NJWkUnID8gJ1NNQUxMJyA6ICdHUkVFTicpOwogICAgICAgICAgICAgICAgbG9naWNOYW1lID0gIlBhdHRlcm46IFppZy1aYWcgLyBDbHVzdGVyIE1peCBEZXRlY3RlZC4iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIElNUE9SVEFOVDogU0hPVyBVU0VSIFRIRSBPUFBPU0lURSBPRiBXSEFUIFRIRSBTWVNURU0gQ0FMQ1VMQVRFUwogICAgICAgIGxldCB1c2VyUHJlZGljdGlvbiA9IGludGVybmFsUHJlZGljdGlvbjsKICAgICAgICAvLyBGbGlwIHRoZSBwcmVkaWN0aW9uIGZvciB1c2VyIChvcHBvc2l0ZSkKICAgICAgICBpZiAodHlwZSA9PT0gJ1NJWkUnKSB7CiAgICAgICAgICAgIHVzZXJQcmVkaWN0aW9uID0gaW50ZXJuYWxQcmVkaWN0aW9uID09PSAnQklHJyA/ICdTTUFMTCcgOiAnQklHJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1c2VyUHJlZGljdGlvbiA9IGludGVybmFsUHJlZGljdGlvbiA9PT0gJ1JFRCcgPyAnR1JFRU4nIDogJ1JFRCc7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIEFwcGx5IGFjY3VyYWN5IGJvb3N0ZXIgaWYgc2VsZWN0ZWQgKGZsaXBzIHVzZXIgcHJlZGljdGlvbiBhZ2FpbiAxMCUgb2YgdGhlIHRpbWUpCiAgICAgICAgaWYgKGFjY3VyYWN5Qm9vc3RlclNlbGVjdGVkICYmIE1hdGgucmFuZG9tKCkgPCAwLjEpIHsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdTSVpFJykgewogICAgICAgICAgICAgICAgdXNlclByZWRpY3Rpb24gPSB1c2VyUHJlZGljdGlvbiA9PT0gIkJJRyIgPyAiU01BTEwiIDogIkJJRyI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1c2VyUHJlZGljdGlvbiA9IHVzZXJQcmVkaWN0aW9uID09PSAiUkVEIiA/ICJHUkVFTiIgOiAiUkVEIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb2dpY05hbWUgKz0gIiAoQm9vc3RlZCkiOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4geyB2YWx1ZTogdXNlclByZWRpY3Rpb24sIGxvZ2ljOiBsb2dpY05hbWUgfTsKICAgIH0KICAgIAogICAgLy8gUHJlZGljdGlvbiBmdW5jdGlvbnMKICAgIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0UHJlZGljdG9yKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXBlcmlvZCcpLnRleHRDb250ZW50ID0gIkxPQURJTkcuLi4iOwogICAgICAgIGF3YWl0IHVwZGF0ZURhdGEodHJ1ZSk7CiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gdXBkYXRlRGF0YShmYWxzZSksIDIwMDApOwogICAgfQogICAgCiAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYXRhKGlzSW5pdGlhbCA9IGZhbHNlKSB7CiAgICAgICAgaWYgKGlzQW5hbHl6aW5nICYmICFpc0luaXRpYWwpIHJldHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSV9VUkwpOwogICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICBjb25zdCBsaXN0ID0ganNvbi5kYXRhLmxpc3Q7CiAgICAgICAgICAgIGNvbnN0IGxhdGVzdEl0ZW0gPSBsaXN0WzBdOwogICAgICAgICAgICBjb25zdCBuZXh0UGVyaW9kID0gKEJpZ0ludChsYXRlc3RJdGVtLmlzc3VlTnVtYmVyKSArIDFuKS50b1N0cmluZygpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCByZXN1bHRzIGZvciBhbmFseXNpcwogICAgICAgICAgICB1cGRhdGVBbGxSZXN1bHRzKGxpc3QpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUHJvY2VzcyBwZW5kaW5nIHJlc3VsdHMKICAgICAgICAgICAgcHJvY2Vzc1BlbmRpbmdSZXN1bHRzKGxpc3QpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKG5leHRQZXJpb2QgIT09IGxhc3RQZXJpb2QpIHsKICAgICAgICAgICAgICAgIGxhc3RQZXJpb2QgPSBuZXh0UGVyaW9kOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtcGVyaW9kJykudGV4dENvbnRlbnQgPSBuZXh0UGVyaW9kOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBJbmNyZWFzZSBhbmFseXNpcyB3aW5kb3cgd2l0aCBlYWNoIG5ldyByZXN1bHQKICAgICAgICAgICAgICAgIGFuYWx5c2lzV2luZG93U2l6ZSA9IE1hdGgubWluKDUwLCBhbmFseXNpc1dpbmRvd1NpemUgKyAxKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKCFpc0FuYWx5emluZykgewogICAgICAgICAgICAgICAgICAgIGlzQW5hbHl6aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVQcmVkaWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzQW5hbHl6aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlVwZGF0ZSBFcnJvciIsIGUpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gdXBkYXRlQWxsUmVzdWx0cyhkYXRhKSB7CiAgICAgICAgLy8gQ29udmVydCBBUEkgZGF0YSB0byBvdXIgZm9ybWF0CiAgICAgICAgY29uc3QgbmV3UmVzdWx0cyA9IGRhdGEubWFwKGl0ZW0gPT4gewogICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludChpdGVtLm51bWJlcik7CiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBudW0gPj0gNSA/ICJCSUciIDogIlNNQUxMIjsKICAgICAgICAgICAgbGV0IGNvbG9yOwogICAgICAgICAgICBpZiAobnVtID09PSAwIHx8IG51bSA9PT0gNSkgewogICAgICAgICAgICAgICAgY29sb3IgPSAiVklPTEVUIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbG9yID0gKG51bSAlIDIgPT09IDApID8gIlJFRCIgOiAiR1JFRU4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwZXJpb2Q6IGl0ZW0uaXNzdWVOdW1iZXIsCiAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0ubnVtYmVyLAogICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKQogICAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIEFkZCBuZXcgcmVzdWx0cyB0byBhbGxSZXN1bHRzLCBhdm9pZGluZyBkdXBsaWNhdGVzCiAgICAgICAgbmV3UmVzdWx0cy5mb3JFYWNoKG5ld1Jlc3VsdCA9PiB7CiAgICAgICAgICAgIGlmICghYWxsUmVzdWx0cy5zb21lKHIgPT4gci5wZXJpb2QgPT09IG5ld1Jlc3VsdC5wZXJpb2QpKSB7CiAgICAgICAgICAgICAgICBhbGxSZXN1bHRzLnVuc2hpZnQobmV3UmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDEwMCByZXN1bHRzCiAgICAgICAgaWYgKGFsbFJlc3VsdHMubGVuZ3RoID4gMTAwKSB7CiAgICAgICAgICAgIGFsbFJlc3VsdHMgPSBhbGxSZXN1bHRzLnNsaWNlKDAsIDEwMCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZW5lcmF0ZVByZWRpY3Rpb24oKSB7CiAgICAgICAgbGV0IHByZWRpY3Rpb25WYWx1ZTsKICAgICAgICBsZXQgcHJlZGljdGlvbk1vZGUgPSBjdXJyZW50UHJlZGljdGlvbk1vZGU7CiAgICAgICAgCiAgICAgICAgLy8gSWYgbGFzdCBiZXQgd2FzIGxvc3QsIHN3aXRjaCBtb2RlIGJldHdlZW4gU0laRSBhbmQgQ09MT1IKICAgICAgICBpZiAoIWxhc3RCZXRXb24pIHsKICAgICAgICAgICAgcHJlZGljdGlvbk1vZGUgPSBwcmVkaWN0aW9uTW9kZSA9PT0gIlNJWkUiID8gIkNPTE9SIiA6ICJTSVpFIjsKICAgICAgICAgICAgY3VycmVudFByZWRpY3Rpb25Nb2RlID0gcHJlZGljdGlvbk1vZGU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFVzZSBwYXR0ZXJuIGFuYWx5c2lzICh3aWxsIHJldHVybiBvcHBvc2l0ZSBwcmVkaWN0aW9uIGZvciB1c2VyKQogICAgICAgIGNvbnN0IHBhdHRlcm5SZXN1bHQgPSBhbmFseXplUGF0dGVybnMoYWxsUmVzdWx0cywgcHJlZGljdGlvbk1vZGUpOwogICAgICAgIHByZWRpY3Rpb25WYWx1ZSA9IHBhdHRlcm5SZXN1bHQudmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHByZWRpY3Rpb24gZGlzcGxheQogICAgICAgIGNvbnN0IHByZWRpY3Rpb25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWRpY3Rpb24tdGV4dCcpOwogICAgICAgIHByZWRpY3Rpb25UZXh0LnRleHRDb250ZW50ID0gcHJlZGljdGlvblZhbHVlOwogICAgICAgIHByZWRpY3Rpb25UZXh0LmNsYXNzTmFtZSA9ICJwcmVkaWN0aW9uLXRleHQgIiArIHByZWRpY3Rpb25WYWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVkaWN0aW9uLXR5cGUnKS50ZXh0Q29udGVudCA9IHByZWRpY3Rpb25Nb2RlID09PSAiU0laRSIgPyAnQklHL1NNQUxMJyA6ICdSRUQvR1JFRU4nOwogICAgICAgIAogICAgICAgIC8vIERpc3BsYXkgdGhlIHBhdHRlcm4gbG9naWMgKGJ1dCBoaWRlIHRoYXQgaXQncyBvcHBvc2l0ZSkKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0dGVybi1kZXRhaWxzJykudGV4dENvbnRlbnQgPSBgQW5hbHlzaXM6ICR7cGF0dGVyblJlc3VsdC5sb2dpY30gKFdpbmRvdzogJHthbmFseXNpc1dpbmRvd1NpemV9KWA7CiAgICAgICAgCiAgICAgICAgLy8gU3RvcmUgcHJlZGljdGlvbgogICAgICAgIGNvbnN0IHByZWRpY3Rpb24gPSB7CiAgICAgICAgICAgIG1vZGU6IHByZWRpY3Rpb25Nb2RlLAogICAgICAgICAgICB2YWx1ZTogcHJlZGljdGlvblZhbHVlLAogICAgICAgICAgICBwZXJpb2Q6IGxhc3RQZXJpb2QsCiAgICAgICAgICAgIGJldEFtb3VudDogY3VycmVudEJldEFtb3VudCwKICAgICAgICAgICAgbGV2ZWw6IGN1cnJlbnRMZXZlbCwKICAgICAgICAgICAgYW5hbHlzaXNXaW5kb3c6IGFuYWx5c2lzV2luZG93U2l6ZQogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgaGlzdG9yeURhdGEudW5zaGlmdCh7IC4uLnByZWRpY3Rpb24sIHN0YXR1czogJ1BFTkRJTkcnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSk7CiAgICAgICAgcmVuZGVySGlzdG9yeSgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBwcm9jZXNzUGVuZGluZ1Jlc3VsdHMobGlzdCkgewogICAgICAgIGlmIChoaXN0b3J5RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGhpc3RvcnlEYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09ICdQRU5ESU5HJykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGlzdC5maW5kKGwgPT4gbC5pc3N1ZU51bWJlciA9PT0gaXRlbS5wZXJpb2QpOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludChtYXRjaC5udW1iZXIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxTaXplID0gbnVtID49IDUgPyAiQklHIiA6ICJTTUFMTCI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3R1YWxDb2xvcjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gMCB8fCBudW0gPT09IDUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbENvbG9yID0gIlZJT0xFVCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxDb2xvciA9IChudW0gJSAyID09PSAwKSA/ICJSRUQiIDogIkdSRUVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzV2luID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm1vZGUgPT09ICdTSVpFJyAmJiBpdGVtLnZhbHVlID09PSBhY3R1YWxTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1dpbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5tb2RlID09PSAnQ09MT1InKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtID09PSAwICYmIGl0ZW0udmFsdWUgPT09ICdSRUQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNXaW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChudW0gPT09IDUgJiYgaXRlbS52YWx1ZSA9PT0gJ0dSRUVOJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV2luID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS52YWx1ZSA9PT0gYWN0dWFsQ29sb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1dpbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID0gaXNXaW4gPyAnV0lOJyA6ICdMT1NTJzsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hY3R1YWxSZXN1bHQgPSBgJHttYXRjaC5udW1iZXJ9ICgke2FjdHVhbFNpemV9LyR7YWN0dWFsQ29sb3J9KWA7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYmFsYW5jZSBiYXNlZCBvbiByZXN1bHQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2luKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZSArPSBpdGVtLmJldEFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IDE7IC8vIFJlc2V0IHRvIGxldmVsIDEgb24gd2luCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEJhbGFuY2VGb3JDeWNsZSA9IGN1cnJlbnRCYWxhbmNlOyAvLyBSZXNldCBvcmlnaW5hbCBiYWxhbmNlIGZvciBuZXh0IGN5Y2xlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5TdHJlYWsrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvc3NTdHJlYWsgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEJldFdvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZSAtPSBpdGVtLmJldEFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvc3NTdHJlYWsrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpblN0cmVhayA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0QmV0V29uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBsZXZlbCBvbiBsb3NzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExldmVsIDwgMykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXZlbCAzIGxvc3MgLSBjeWNsZSBjb21wbGV0ZSwgcmVzZXQgdG8gbGV2ZWwgMSB3aXRoIGN1cnJlbnQgYmFsYW5jZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxCYWxhbmNlRm9yQ3ljbGUgPSBjdXJyZW50QmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGFyZ2V0IGNvbXBsZXRpb24gb3IgbG9zcwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJhbGFuY2UgPj0gdGFyZ2V0TWF4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNob3dTdWNjZXNzUG9wdXAoKSwgMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEJhbGFuY2UgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzaG93RmFpbHVyZVBvcHVwKCksIDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtYmFsYW5jZScpLnRleHRDb250ZW50ID0gYOKCuSR7Y3VycmVudEJhbGFuY2V9YDsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQmV0QW1vdW50cygpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQcmVkaWN0aW9ucysrOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaW4pIGNvcnJlY3RQcmVkaWN0aW9ucysrOwogICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJIaXN0b3J5KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNob3dTdWNjZXNzUG9wdXAoKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlZC1hbW91bnQnKS50ZXh0Q29udGVudCA9IHRhcmdldE1heDsKICAgICAgICAKICAgICAgICAvLyBTaG93IGluc3VyYW5jZSBzdGF0dXMgaWYgc2VsZWN0ZWQKICAgICAgICBpZiAoaW5zdXJhbmNlU2VsZWN0ZWQpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc3VyYW5jZS1yZWZ1bmQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Y2Nlc3MtcG9wdXAnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIAogICAgICAgIGRhdGFiYXNlLnJlZignY29tcGxldGVkVGFyZ2V0cy8nICsgdXNlcklkICsgJy8nICsgRGF0ZS5ub3coKSkuc2V0KHsKICAgICAgICAgICAgdGFyZ2V0OiBjdXJyZW50VGFyZ2V0LAogICAgICAgICAgICBhY2hpZXZlZDogdGFyZ2V0TWF4LAogICAgICAgICAgICBhY2N1cmFjeUJvb3N0ZXI6IGFjY3VyYWN5Qm9vc3RlclNlbGVjdGVkLAogICAgICAgICAgICBpbnN1cmFuY2U6IGluc3VyYW5jZVNlbGVjdGVkLAogICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2hvd0ZhaWx1cmVQb3B1cCgpIHsKICAgICAgICBjb25zdCB0YXJnZXREYXRhID0gdGFyZ2V0Q29uZmlnc1tjdXJyZW50VGFyZ2V0XTsKICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gY3VycmVudFByaWNlOwogICAgICAgIGNvbnN0IGRpc2NvdW50ZWRQcmljZSA9IE1hdGguZmxvb3Iob3JpZ2luYWxQcmljZSAvIDIpOwogICAgICAgIGNvbnN0IHJlZnVuZEFtb3VudCA9IHRhcmdldERhdGEuc3RhcnQgKyBvcmlnaW5hbFByaWNlOyAvLyBEZXBvc2l0ICsgdGFyZ2V0IHByaWNlCiAgICAgICAgCiAgICAgICAgY29uc3QgZmFpbHVyZU1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFpbHVyZS1tZXNzYWdlJyk7CiAgICAgICAgY29uc3QgZmFpbHVyZVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhaWx1cmUtdGl0bGUnKTsKICAgICAgICBjb25zdCBmYWlsdXJlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhaWx1cmUtYnV0dG9uJyk7CiAgICAgICAgCiAgICAgICAgaWYgKGluc3VyYW5jZVNlbGVjdGVkKSB7CiAgICAgICAgICAgIC8vIEluc3VyYW5jZSBhY3RpdmF0ZWQgLSBzaG93IHJlZnVuZCBtZXNzYWdlCiAgICAgICAgICAgIGZhaWx1cmVUaXRsZS50ZXh0Q29udGVudCA9ICJJTlNVUkFOQ0UgQUNUSVZBVEVEISI7CiAgICAgICAgICAgIGZhaWx1cmVNZXNzYWdlLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxwPllvdXIgaW5zdXJhbmNlIGhhcyBiZWVuIGFjdGl2YXRlZCE8L3A+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6IHZhcigtLXBpbmspOyBtYXJnaW4tdG9wOiAxNXB4OyBmb250LXNpemU6IDEuM3JlbTsiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2hpZWxkLWFsdCI+PC9pPiDigrkke3JlZnVuZEFtb3VudH0gUmVmdW5kIEFwcHJvdmVkIQogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgPHAgc3R5bGU9ImZvbnQtc2l6ZTogMC45cmVtOyBjb2xvcjogI2FhYTsgbWFyZ2luLXRvcDogMTBweDsiPgogICAgICAgICAgICAgICAgICAgIERlcG9zaXQ6IOKCuSR7dGFyZ2V0RGF0YS5zdGFydH0gKyBUYXJnZXQgUHJpY2U6IOKCuSR7b3JpZ2luYWxQcmljZX0KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDEuMXJlbTsgY29sb3I6IHZhcigtLWdyZWVuKTsgbWFyZ2luLXRvcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgIFRvdGFsIFJlZnVuZDog4oK5JHtyZWZ1bmRBbW91bnR9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAwLjhyZW07IGNvbG9yOiAjYWFhOyBtYXJnaW4tdG9wOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgUmVmdW5kIHdpbGwgYmUgcHJvY2Vzc2VkIHdpdGhpbiAyNCBob3Vycy4KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgZmFpbHVyZUJ1dHRvbi50ZXh0Q29udGVudCA9ICJDTEFJTSBSRUZVTkQgJiBCVVkgTkVXIFRBUkdFVCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gTm8gaW5zdXJhbmNlIC0gc2hvdyBkaXNjb3VudCBvZmZlcgogICAgICAgICAgICBmYWlsdXJlVGl0bGUudGV4dENvbnRlbnQgPSAiVEFSR0VUIExPU1QhIjsKICAgICAgICAgICAgZmFpbHVyZU1lc3NhZ2UuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPHA+VW5mb3J0dW5hdGVseSwgeW91IGxvc3QgYWxsIHlvdXIgYmFsYW5jZS48L3A+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6IHZhcigtLWdvbGQpOyBtYXJnaW4tdG9wOiAxNXB4OyBmb250LXNpemU6IDEuMnJlbTsiPlNwZWNpYWwgT2ZmZXI6IDUwJSBEaXNjb3VudCBvbiBOZXh0IFRhcmdldCE8L3A+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiAjYWFhOyBtYXJnaW4tdG9wOiAxMHB4OyI+T3JpZ2luYWwgUHJpY2U6IOKCuTxzcGFuIGlkPSJvcmlnaW5hbC1wcmljZSI+JHtvcmlnaW5hbFByaWNlfTwvc3Bhbj48L3A+CiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAxLjFyZW07IGNvbG9yOiB2YXIoLS1ncmVlbik7Ij5EaXNjb3VudGVkIFByaWNlOiDigrk8c3BhbiBpZD0iZGlzY291bnRlZC1wcmljZSI+JHtkaXNjb3VudGVkUHJpY2V9PC9zcGFuPjwvcD4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgZmFpbHVyZUJ1dHRvbi50ZXh0Q29udGVudCA9ICJCVVkgV0lUSCBESVNDT1VOVCI7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWlsdXJlLXBvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAKICAgICAgICBkYXRhYmFzZS5yZWYoJ2ZhaWxlZFRhcmdldHMvJyArIHVzZXJJZCArICcvJyArIERhdGUubm93KCkpLnNldCh7CiAgICAgICAgICAgIHRhcmdldDogY3VycmVudFRhcmdldCwKICAgICAgICAgICAgbG9zdEFtb3VudDogY3VycmVudFByaWNlLAogICAgICAgICAgICBhY2N1cmFjeUJvb3N0ZXI6IGFjY3VyYWN5Qm9vc3RlclNlbGVjdGVkLAogICAgICAgICAgICBpbnN1cmFuY2U6IGluc3VyYW5jZVNlbGVjdGVkLAogICAgICAgICAgICByZWZ1bmRBbW91bnQ6IGluc3VyYW5jZVNlbGVjdGVkID8gcmVmdW5kQW1vdW50IDogMCwKICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpCiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlbmRlckhpc3RvcnkoKSB7CiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnktaXRlbXMnKTsKICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgCiAgICAgICAgaGlzdG9yeURhdGEuc2xpY2UoMCwgMTApLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2hpc3RvcnktaXRlbSc7CiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBmb250LXNpemU6IDAuOHJlbTsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuPlBlcmlvZDogJHtpdGVtLnBlcmlvZH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiAjYWFhOyBmb250LXNpemU6IDAuN3JlbTsiPiR7aXRlbS5tb2RlfSBMJHtpdGVtLmxldmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSIke2l0ZW0udmFsdWUudG9Mb3dlckNhc2UoKX0iIHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsiPiR7aXRlbS52YWx1ZX08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMC43cmVtOyBjb2xvcjogI2FhYTsiPkJldDog4oK5JHtpdGVtLmJldEFtb3VudH08L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSIke2l0ZW0uc3RhdHVzLnRvTG93ZXJDYXNlKCl9IiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7Ij4ke2l0ZW0uc3RhdHVzfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAke2l0ZW0uYWN0dWFsUmVzdWx0ID8gCiAgICAgICAgICAgICAgICAgICAgICAgIGA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAwLjdyZW07IGNvbG9yOiAjYWFhOyI+JHtpdGVtLmFjdHVhbFJlc3VsdH08L3NwYW4+YCA6IAogICAgICAgICAgICAgICAgICAgICAgICBgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMC43cmVtOyBjb2xvcjogdmFyKC0tZ29sZCk7Ij5QZW5kaW5nPC9zcGFuPmAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIC8vIENoZWNrIGZvciBhY3RpdmUgc2Vzc2lvbiBvbiBwYWdlIGxvYWQKICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICBkYXRhYmFzZS5yZWYoJ3Nlc3Npb25zLycgKyB1c2VySWQpLm9uY2UoJ3ZhbHVlJykKICAgICAgICAgICAgLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi5zdGF0dXMgPT09ICdhY3RpdmUnKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzZXNzaW9uLnN0YXJ0ZWRBdCA8IDI0ICogNjAgKiA2MCAqIDEwMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBsYXRmb3JtID0gc2Vzc2lvbi5wbGF0Zm9ybTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IHNlc3Npb24udGFyZ2V0OwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmFsYW5jZSA9IHNlc3Npb24uY3VycmVudEJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1heCA9IHNlc3Npb24udGFyZ2V0QW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgICBhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCA9IHNlc3Npb24uYWNjdXJhY3lCb29zdGVyIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpbnN1cmFuY2VTZWxlY3RlZCA9IHNlc3Npb24uaW5zdXJhbmNlIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEJhbGFuY2VGb3JDeWNsZSA9IGN1cnJlbnRCYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQtdGFyZ2V0LWdvYWwnKS50ZXh0Q29udGVudCA9IGBUYXJnZXQ6ICR7Y3VycmVudFRhcmdldC5yZXBsYWNlKCctJywgJyBUbyAnKX1gOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC1iYWxhbmNlJykudGV4dENvbnRlbnQgPSBg4oK5JHtjdXJyZW50QmFsYW5jZX1gOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFkZC1vbnMgYmFkZ2VzCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhZGdlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRvbnMtYmFkZ2VzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYWRnZXNIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2N1cmFjeUJvb3N0ZXJTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzSFRNTCArPSAnPGRpdiBjbGFzcz0iYmFkZ2UgYWNjdXJhY3ktYmFkZ2UiPjxpIGNsYXNzPSJmYXMgZmEtYm9sdCI+PC9pPiA5MCUgQUNDVVJBQ1k8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN1cmFuY2VTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzSFRNTCArPSAnPGRpdiBjbGFzcz0iYmFkZ2UgaW5zdXJhbmNlLWJhZGdlIj48aSBjbGFzcz0iZmFzIGZhLXNoaWVsZC1hbHQiPjwvaT4gSU5TVVJFRDwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzQ29udGFpbmVyLmlubmVySFRNTCA9IGJhZGdlc0hUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVCZXRBbW91bnRzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFuZGluZy1wYWdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWRpY3Rpb24tcGFnZScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICBzdGFydFByZWRpY3RvcigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICB9OwogICAgCiAgICAvLyBFbnRlciBrZXkgc3VwcG9ydAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3V0ci1pbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7CiAgICAgICAgICAgIHN1Ym1pdFBheW1lbnQoKTsKICAgICAgICB9CiAgICB9KTsKICAgIAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluLXBhc3MnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gIjc3MzgiKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tY29udHJvbHMnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGxvYWRQYXltZW50UmVxdWVzdHMoKTsKICAgICAgICAgICAgICAgIGxvYWRTdGF0aXN0aWNzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKICAgIAogICAgLy8gSW5pdGlhbGl6ZSBtYW51YWwgdGFyZ2V0IGNoYW5nZSBsaXN0ZW5lcgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC10YXJnZXQnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVNYW51YWxUYXJnZXQpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbnVhbC1hY2N1cmFjeScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZU1hbnVhbFRhcmdldCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFudWFsLWluc3VyYW5jZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZU1hbnVhbFRhcmdldCk7Cjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4=";
            var _dec = decodeURIComponent(escape(window.atob(_sec)));
            document.open();
            document.write(_dec);
            document.close();
        };
    </script>
</head>
<body><div style="text-align:center;padding:50px;font-family:sans-serif;"> Loading Secure Site...</div></body>
</html>